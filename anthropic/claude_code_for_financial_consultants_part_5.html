<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 5: Becoming an AI-Native Consultant | Claude Code for Financial Consultants</title>
    <meta name="description" content="Master automation chains and ethical AI governance. Design multi-step workflows, apply transparency frameworks, and build your AI practice roadmap.">
    <meta name="keywords" content="Claude Code, AI Consulting, Automation Chains, Ethical AI, Financial Consultants, AI Practice Library, Workflow Automation, AI Governance">
    <meta name="author" content="Cretorial">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Module 5: Becoming an AI-Native Consultant">
    <meta property="og:description" content="Learn to design automation chains and govern AI workflows. From manual consultant to AI-native practice leader.">
    <meta property="og:image" content="https://example.com/module5-preview.jpg">
    <meta property="og:url" content="https://example.com/claude-code-module-5">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Module 5: AI-Native Consulting">
    <meta property="twitter:description" content="Master automation chains and ethical governance for financial consultants.">
    <meta property="twitter:image" content="https://example.com/module5-preview.jpg">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
      :root {
        /* Base Colors */
        --text: #212529; --bg: #ffffff; --muted: #f8f9fa; --border: #dee2e6;
        --accent: #fd7e14; --accent-2: #e87312; --accent-soft: #fff7ed;
        --header-bg: #212529; --header-fg: #f8f9fa;
        --code-bg: #2d2d2d;
        --gold: #ffc107; --gold-soft: #fff8e1;
        
        /* 4-Color System: Info | Success | Warning | Error */
        --info: #0d6efd; --info-soft: #cfe2ff;
        --success: #198754; --success-soft: #d1e7dd;
        --warning: #ff9800; --warning-soft: #fff3e0;
        --error: #dc3545; --error-soft: #f8d7da;
        
        /* Legacy aliases for backwards compatibility */
        --ok: var(--success); --ok-soft: var(--success-soft);
        --bad: var(--error); --bad-soft: var(--error-soft);
      }
      *{box-sizing:border-box;margin:0;padding:0}
      html,body{font-family:'Inter',system-ui,-apple-system,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);line-height:1.8; scroll-behavior: smooth;}
      
      .container{max-width:900px;margin:auto;padding:24px;background:var(--bg)}
      
      h1, h2, h3, h4 { color: var(--header-bg); font-weight: 700; line-height: 1.3; }
      h1{font-size:clamp(1.8rem, 4vw, 2.4rem); margin-bottom: 4px;}
      .byline{font-size:clamp(1rem, 3vw, 1.2rem); margin-bottom: 24px; font-style: italic; color: #495057;}
      h2{font-size:clamp(1.5rem,4vw,2rem); margin: 80px 0 32px; border-bottom: 2px solid var(--border); padding-bottom: 12px; font-weight: 600;}
      h3{font-size:clamp(1.2rem,3vw,1.5rem); margin: 40px 0 20px; font-weight: 700;}
      h4 {color: var(--text); font-weight: 600; font-size: 1.1rem;}
      p{margin-bottom: 24px;}
      strong { font-weight: 600; }
      ul, ol { padding-left: 20px; margin-bottom: 24px; }
      li { margin-bottom: 10px; }
      code { background: var(--muted); border: 1px solid var(--border); padding: 2px 6px; border-radius: 4px; font-family: 'Roboto Mono', monospace; font-size: 0.9em; }
      pre { background: var(--code-bg); color: #e2e8f0; padding: 1rem; border-radius: 8px; overflow-x: auto; font-family: 'Roboto Mono', monospace; margin: 16px 0; white-space: pre-wrap; word-wrap: break-word; }
      pre code { background: transparent; border: none; padding: 0; font-size: 0.9em; line-height: 1.6; display: block; }

      .site-header,.site-footer{background:var(--header-bg);color:var(--header-fg);padding:14px 24px}
      .site-header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;position:sticky;top:0;z-index:100; box-shadow: 0 2px 10px rgba(0,0,0,0.1); transition: all 0.3s ease;}
      .site-header.minimized { padding: 8px 24px; }
      .site-header.minimized .logo { font-size: 1rem; }
      .logo{font-weight:700;font-size:1.15rem;color:#fff; text-decoration: none; transition: font-size 0.3s ease;}
      .logo:hover{color:var(--accent);}
      .site-footer{text-align:center;margin-top:50px;padding:30px; font-size: 0.9rem;}
      
      /* Module Navigation */
      .module-nav { background: #2d2d2d; border-bottom: 2px solid var(--accent); padding: 12px 24px; position: sticky; top: 56px; z-index: 99; transition: all 0.3s ease; box-shadow: 0 1px 5px rgba(0,0,0,0.1); }
      .module-nav.minimized { padding: 6px 24px; top: 42px; }
      .module-nav-inner { display: flex; gap: 8px; overflow-x: auto; scroll-behavior: smooth; -webkit-overflow-scrolling: touch; scrollbar-width: thin; scrollbar-color: var(--accent) #3a3a3a; }
      .module-nav-inner::-webkit-scrollbar { height: 4px; }
      .module-nav-inner::-webkit-scrollbar-track { background: #3a3a3a; }
      .module-nav-inner::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 4px; }
      .module-link { display: flex; align-items: center; gap: 6px; padding: 8px 14px; background: #3a3a3a; color: #e2e8f0; text-decoration: none; border-radius: 6px; font-size: 0.85rem; font-weight: 500; transition: all 0.2s; white-space: nowrap; flex-shrink: 0; }
      .module-link:hover { background: var(--accent); color: white; }
      .module-link.active { background: var(--accent); color: white; font-weight: 600; }
      .module-link.completed::before { content: '✓'; display: inline-block; width: 16px; height: 16px; background: var(--ok); color: white; border-radius: 50%; text-align: center; line-height: 16px; font-size: 11px; margin-right: 2px; }
      .module-link .module-num { opacity: 0.7; }
      .nav-controls { display: none; }
      
      @media (max-width: 768px) {
        .module-nav { top: 52px; padding: 8px 12px; position: relative; }
        .module-nav-wrapper { position: relative; }
        .module-nav-inner { gap: 12px; padding: 0 40px; scroll-snap-type: x mandatory; }
        .module-link { scroll-snap-align: center; padding: 10px 16px; font-size: 0.9rem; min-width: 140px; justify-content: center; }
        .nav-controls { display: flex; position: absolute; top: 50%; transform: translateY(-50%); width: 100%; justify-content: space-between; pointer-events: none; z-index: 1; }
        .nav-btn { pointer-events: all; background: var(--accent); color: white; border: none; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 1.2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }
        .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }
        .nav-btn-prev { margin-left: 4px; }
        .nav-btn-next { margin-right: 4px; }
      }
      
      .module-section { margin-bottom: 80px; }
      .icon-prefix { font-size: 1.5rem; margin-right: 12px; color: var(--accent); }

      .context-box { background: var(--accent-soft); border-left: 4px solid var(--accent); padding: 24px; margin: 32px 0; border-radius: 8px; }
      .context-box h3 { color: var(--accent-2); font-size: 1.3rem; margin-top: 0; margin-bottom: 10px; }
      
      .bridge-box { text-align: center; border: 1px dashed var(--border); border-radius: 12px; padding: 32px; margin-top: 40px; }
      .bridge-box a { background: var(--accent); color: white; text-decoration: none; padding: 12px 24px; border-radius: 8px; font-weight: 700; display: inline-block; transition: background-color 0.2s; }
      .bridge-box a:hover { background: var(--accent-2); }
      
      .soft-card{background:var(--bg);border:1px solid var(--border);border-radius:12px;padding:24px}
      .btn{display:inline-block;background:var(--accent);color:#fff;border:none;border-radius:8px;padding:10px 18px;font-weight:700;cursor:pointer; transition: background-color 0.2s;}
      .btn:hover { background: var(--accent-2); }
      .btn.secondary { background: var(--muted); color: var(--text); border: 1px solid var(--border); }

      /* Consistent Accordion Styles */
      .accordion .accordion-item + .accordion-item { margin-top: 10px; }
      .accordion-header { width: 100%; text-align: left; background: var(--muted); border: 1px solid var(--border); padding: 16px 20px; border-radius: 8px; cursor: pointer; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; justify-content: space-between; transition: background-color 0.2s ease; }
      .accordion-header:hover { background: #e9ecef; }
      .accordion-header:focus { outline: 2px solid var(--accent); outline-offset: 2px; }
      .accordion-header::after { content: '+'; font-size: 1.5rem; color: var(--text); transition: transform 0.3s ease; }
      .accordion-header[aria-expanded="true"]::after { transform: rotate(45deg); }
      .accordion-content { padding: 24px; display: none; border: 1px solid var(--border); border-top: none; border-radius: 0 0 8px 8px; background: #fff; }
      
      /* Timeline Animation */
      .journey-timeline { margin: 24px 0; }
      .timeline-item { display: flex; gap: 16px; margin-bottom: 16px; opacity: 0; animation: slideInLeft 0.4s forwards; }
      .timeline-item:nth-child(1) { animation-delay: 0.1s; }
      .timeline-item:nth-child(2) { animation-delay: 0.2s; }
      .timeline-item:nth-child(3) { animation-delay: 0.3s; }
      .timeline-item:nth-child(4) { animation-delay: 0.4s; }
      .timeline-item:nth-child(5) { animation-delay: 0.5s; }
      .timeline-item:nth-child(6) { animation-delay: 0.6s; }
      @keyframes slideInLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
      .timeline-marker { flex-shrink: 0; width: 32px; height: 32px; background: var(--muted); color: var(--text); border: 1px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; }
      .timeline-content { flex: 1; }
      .timeline-content strong { color: var(--accent-2); font-size: 0.95rem; }
      .timeline-content p { margin: 2px 0 0 0; font-size: 0.85rem; color: #6c757d; line-height: 1.4; }

      /* --- REVISED STYLES for Module 5 --- */
      .quote-banner { background: var(--info-soft); border-left: 4px solid var(--info); padding: 24px; margin: 32px 0; border-radius: 8px; text-align: center; font-size: 1.15rem; font-style: italic; font-weight: 500;}
      
      .infographic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px; margin: 32px 0; align-items: stretch; }
      .infographic-card { text-align: center; padding: 24px; border: 1px solid var(--border); border-radius: 12px; display: flex; flex-direction: column; }
      .infographic-card h4 { color: var(--accent-2); font-size: 1.2rem; }
      .infographic-card .icon { font-size: 2.5rem; margin-bottom: 16px; color: var(--border); }
      .infographic-card.today { background: var(--accent-soft); border-color: var(--accent); }
      .infographic-card.today .icon { color: var(--accent); }
      .infographic-card p { flex-grow: 1; }
      
      /* --- Flip Card Carousel Styles --- */
      .carousel-container { perspective: 1000px; position: relative; padding: 0 60px; margin: 32px 0; }
      .flip-card { width: 100%; height: 380px; background-color: transparent; display: none; }
      .flip-card.active { display: block; }
      .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; cursor: pointer; border: 2px solid var(--border); border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
      .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
      .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; display: flex; flex-direction: column; justify-content: center; padding: 32px; border-radius: 12px; }
      .flip-card-front { background: var(--bg); color: var(--text); border: 1px solid var(--border); }
      .flip-card-back { background-color: var(--code-bg); color: white; transform: rotateY(180deg); text-align: left; position: relative; }
      .flip-card-front .step-number { font-size: 3rem; color: var(--accent); font-weight: 700; margin-bottom: 16px; }
      .flip-card-front h4 { color: var(--accent-2); font-size: 1.5rem; margin-bottom: 20px; }
      .flip-card-front p { font-size: 1rem; line-height: 1.6; color: #495057; }
      .flip-card-front .tap-hint { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); color: #6c757d; font-size: 0.85rem; font-style: italic; }
      .flip-card-back pre { margin: 0; overflow: visible; font-size: 0.9rem; white-space: pre-wrap; word-wrap: break-word; }
      .flip-card-back code { color: #a5d6ff; line-height: 1.6; white-space: pre-wrap; word-wrap: break-word; }
      .copy-btn-card { position: absolute; top: 16px; right: 16px; background: var(--accent); color: white; border: none; border-radius: 6px; padding: 8px 14px; cursor: pointer; font-size: 0.85rem; font-weight: 600; display: inline-flex; align-items: center; gap: 6px; transition: background-color 0.2s ease; z-index: 10; }
      .copy-btn-card:hover { background: var(--accent-2); }
      .carousel-nav { position: absolute; top: 50%; transform: translateY(-50%); background-color: var(--accent); color: white; border: none; border-radius: 50%; width: 45px; height: 45px; font-size: 24px; cursor: pointer; z-index: 10; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s ease; }
      .carousel-nav:hover { background-color: var(--accent-2); }
      #carousel-prev { left: 0; }
      #carousel-next { right: 0; }
      .carousel-footer { text-align: center; margin-top: 20px; }
      #carousel-counter { font-weight: 600; color: var(--accent-2); font-size: 1rem; }

      .governance-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 24px; }
      .governance-card { border-top: 4px solid; border-radius: 12px; padding: 24px; background: var(--muted); }
      .governance-card.transparency { border-color: var(--info); }
      .governance-card.confidentiality { border-color: var(--bad); }
      .governance-card.accountability { border-color: var(--ok); }
      .governance-card h4 { margin: 0 0 10px; display: flex; align-items: center; gap: 10px; font-size: 1.3rem; }

      /* --- Redesigned Poll Component --- */
      .poll-v2-container { border: 2px solid var(--border); padding: 24px; border-radius: 12px; }
      .poll-v2-option { background: var(--muted); border: 2px solid var(--muted); border-radius: 8px; padding: 15px; margin-bottom: 12px; cursor: pointer; transition: all 0.2s ease; }
      .poll-v2-option:hover { border-color: var(--accent); }
      .poll-v2-option.selected { border-color: var(--info); background: var(--info-soft); }
      .poll-v2-option.correct { border-color: var(--ok); background: var(--ok-soft); }
      .poll-v2-option.wrong { border-color: var(--bad); background: var(--bad-soft); }
      .poll-v2-option input { margin-right: 12px; }
      .poll-v2-option input:disabled { cursor: not-allowed; }
      #poll-v2-analysis { display: none; margin-top: 24px; padding: 20px; border-radius: 8px; }
      #poll-v2-analysis.correct-answer { background: var(--ok-soft); border-left: 4px solid var(--ok); }
      #poll-v2-analysis.wrong-answer { background: var(--bad-soft); border-left: 4px solid var(--bad); }
      #poll-v2-analysis h4 { color: var(--accent-2); margin-bottom: 10px; }

      .roadmap-builder { background: var(--gold-soft); padding: 32px; border-radius: 12px; border: 2px solid var(--gold); }
      .roadmap-builder label { font-weight: 600; display: block; margin: 16px 0 8px; }
      .roadmap-builder input, .roadmap-builder textarea { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; font-family: inherit; font-size: 1rem; }
      .roadmap-builder textarea { min-height: 100px; resize: vertical; }
      #roadmap-output { background: #fff; padding: 24px; border-radius: 8px; margin-top: 24px; white-space: pre-wrap; display: none; }
      #roadmap-confirmation { display: none; text-align: center; padding: 20px; background: var(--ok-soft); border: 1px solid var(--ok); border-radius: 8px; margin-top: 20px; }
      
      .journaling-box { background-image: linear-gradient(to bottom, transparent 98%, var(--border) 2%); background-size: 100% 2.2em; line-height: 2.2em; padding: 20px; border: 1px solid var(--border); border-radius: 8px; font-family: 'Georgia', serif; }
      .journaling-box p { margin: 0 0 2.2em; font-size: 1.1em; }
      
      .badge-unlock { background: var(--gold-soft); border: 2px solid var(--gold); padding: 20px; border-radius: 12px; text-align: center; font-size: 1.2rem; font-weight: 600; margin-top: 24px; opacity: 0; transform: translateY(20px); transition: all 0.5s ease-out; }
      .badge-unlock.unlocked { opacity: 1; transform: translateY(0); }
      
      /* Badge System */
      .badge-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px; }
      .badge-card { background: white; border: 2px solid var(--border); border-radius: 12px; padding: 24px; text-align: center; transition: all 0.3s; cursor: pointer; }
      .badge-card:hover { transform: translateY(-4px); box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
      .badge-card.unlocked { border-color: var(--gold); background: var(--gold-soft); }
      .badge-icon { font-size: 3rem; margin-bottom: 12px; filter: grayscale(100%); opacity: 0.4; transition: all 0.3s; }
      .badge-card.unlocked .badge-icon { filter: grayscale(0%); opacity: 1; animation: badgePop 0.5s ease-out; }
      .badge-title { font-size: 1.1rem; font-weight: 700; color: var(--text); margin-bottom: 8px; }
      .badge-desc { font-size: 0.9rem; color: #6c757d; line-height: 1.5; }
      .badge-status { margin-top: 12px; padding: 6px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; display: inline-block; }
      .badge-status.locked { background: #e9ecef; color: #6c757d; }
      .badge-status.unlocked { background: var(--gold); color: var(--header-bg); }
      .progress-bar-container { width: 100%; height: 24px; background: #e9ecef; border-radius: 12px; overflow: hidden; margin: 16px 0; }
      .progress-bar-fill { height: 100%; background: var(--accent); transition: width 0.5s ease-out; display: flex; align-items: center; justify-content: flex-end; padding-right: 8px; color: white; font-size: 0.85rem; font-weight: 600; }
      @keyframes badgePop { 0% { transform: scale(0.5); opacity: 0; } 50% { transform: scale(1.2); } 100% { transform: scale(1); opacity: 1; } }
      @media (max-width: 768px) {
        .badge-grid { grid-template-columns: 1fr; gap: 16px; }
      }

      .glossary-table { width: 100%; border-collapse: collapse; margin-top: 24px; border: 1px solid var(--border); border-radius: 8px; overflow: hidden; }
      .glossary-table th, .glossary-table td { text-align: left; padding: 14px 16px; border-bottom: 1px solid var(--border); }
      .glossary-table th { font-weight: 600; font-size: 0.95rem; color: white; background: var(--accent-2); position: sticky; top: 0; z-index: 1; }
      .glossary-table tbody tr { transition: background-color 0.2s ease; }
      .glossary-table tbody tr:hover { background: var(--accent-soft); }
      .glossary-table tbody tr:last-child td { border-bottom: none; }
      .glossary-table td:nth-child(1) { font-weight: 600; color: var(--accent-2); font-size: 1rem; }
      .glossary-table td:nth-child(2) { color: var(--text); line-height: 1.5; }
      .glossary-table td:nth-child(3) { color: #495057; font-style: italic; font-size: 0.95rem; }
      .glossary-table td:nth-child(4) { color: #6c757d; font-size: 0.9rem; line-height: 1.4; }
      
      .final-bridge { background: var(--muted); border: 1px solid var(--border); padding: 40px; text-align: center; border-radius: 12px; opacity: 0; transform: translateY(30px); transition: all 0.8s ease-out; }
      .final-bridge.visible { opacity: 1; transform: translateY(0); }
      
      /* Consistent Quiz Styles from previous modules */
      .quiz-container{padding:24px;border:2px solid var(--border);border-radius:12px;background:#fff;}
      .quiz-navigation{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid var(--border)}
      .quiz-body.active{display:block; animation: fadeIn 0.5s;}
      .quiz-options{display:grid; gap:12px;}
      .quiz-option{position:relative;}
      .quiz-option label{display:block; padding:14px;border:2px solid var(--border);border-radius:8px;cursor:pointer;background:var(--muted); font-weight: 500;}
      .quiz-option label:hover { border-color: var(--accent); }
      .quiz-option input[type="radio"]{margin-right: 12px; transform: scale(1.2); }
      .quiz-option .explanation{display:none;margin-top:12px;padding:15px;border-radius:6px;border-left:4px solid var(--accent); background: var(--accent-soft);}
      .quiz-option.selected.correct label{background:var(--ok-soft);border-color:var(--ok)}
      .quiz-option.selected.wrong label{background:var(--bad-soft);border-color:var(--bad)}
      
      /* RTC Quiz Styles */
      .rtc-scenario { background: var(--muted); border-left: 5px solid var(--accent); padding: 24px; border-radius: 8px; margin-bottom: 32px; line-height: 1.8; font-size: 1rem; }
      .rtc-scenario h3 { color: var(--accent-2); margin-bottom: 16px; font-size: 1.3rem; }
      .rtc-question-container { background: #ffffff; border: 2px solid var(--border); border-radius: 12px; padding: 24px; margin-bottom: 24px; text-align: left; }
      .rtc-question-container p { font-weight: 600; color: var(--text); margin-bottom: 16px; font-size: 1.05rem; text-align: left; }
      .rtc-question-type { display: inline-block; background: var(--info); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; margin-bottom: 12px; }
      .rtc-textarea { width: 100%; min-height: 100px; padding: 12px; border: 2px solid var(--border); border-radius: 8px; font-family: inherit; font-size: 0.95rem; resize: vertical; }
      .rtc-textarea:focus { outline: none; border-color: var(--accent); }
      .rtc-submit-btn { background: var(--accent); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 1rem; transition: background 0.2s; }
      .rtc-submit-btn:hover { background: var(--accent-2); }
      .rtc-submit-btn:disabled { background: #ccc; cursor: not-allowed; }
      .rtc-explanation { display: none; margin-top: 20px; padding: 20px; border-radius: 8px; background: var(--muted); border-left: 5px solid var(--info); }
      .rtc-explanation.show { display: block; animation: fadeIn 0.4s; }
      .rtc-explanation h4 { margin: 0 0 12px 0; font-size: 1rem; display: flex; align-items: center; gap: 8px; }
      .rtc-explanation p { margin-bottom: 12px; line-height: 1.7; }
      .rtc-explanation.correct { background: var(--ok-soft); border-left-color: var(--ok); }
      .rtc-explanation.wrong { background: var(--bad-soft); border-left-color: var(--bad); }
      .rtc-nav-buttons { display: flex; gap: 12px; margin-top: 20px; }
      .rtc-nav-buttons button { flex: 1; }
      
      /* Copy Code Button Styles */
      .copy-code-container { position: relative; margin: 16px 0; }
      .copy-code-container pre { margin: 0; padding-right: 80px; max-width: 100%; overflow-x: hidden; }
      .copy-code-btn { position: absolute; top: 8px; right: 8px; background: var(--accent); color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 0.85rem; cursor: pointer; transition: all 0.2s; font-weight: 600; z-index: 1; }
      .copy-code-btn:hover { background: var(--accent-2); transform: translateY(-2px); }
      .copy-code-btn:active { transform: translateY(0); }
      .copy-code-btn.copied { background: var(--success); }
      
      /* Asset Download Link Styles */
      .asset-download-link:hover { transform: translateX(8px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
      
      /* Governance Checkpoint Quiz Styles */
      .poll-v2-container { background: var(--muted); padding: 24px; border-radius: 12px; margin: 24px 0; }
      .poll-v2-container h4 { color: var(--text); margin: 0 0 16px 0; font-size: 1.2rem; }
      .poll-v2-option { 
        background: white; 
        border: 2px solid var(--border); 
        border-radius: 8px; 
        margin: 8px 0; 
        padding: 16px; 
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .poll-v2-option:hover { border-color: var(--accent); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
      .poll-v2-option.selected { border-color: var(--accent); background: var(--accent-soft); }
      .poll-v2-option.correct { border-color: var(--ok); background: var(--ok-soft); }
      .poll-v2-option.wrong { border-color: var(--bad); background: var(--bad-soft); }
      .poll-v2-option label { cursor: pointer; display: block; margin: 0; font-weight: 500; }
      .poll-v2-option input[type="radio"] { margin-right: 12px; }
      .poll-v2-option:has(input:disabled) { opacity: 0.7; cursor: not-allowed; }
      #poll-v2-analysis { margin-top: 24px; }
      #poll-v2-analysis h4 { color: var(--text); margin: 0 0 16px 0; }
      .correct-answer { border-left: 4px solid var(--ok); }
      .wrong-answer { border-left: 4px solid var(--bad); }
      
      /* Module 3-Style Achievement Badges */
      .milestone-badges { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin: 24px 0; }
      .badge { text-align: center; padding: 15px; background: white; border: 2px solid var(--border); border-radius: 12px; transition: all 0.3s; cursor: pointer; position: relative; }
      .badge:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
      .badge.earned { border-color: var(--accent); background: var(--accent-soft); animation: badgePop 0.5s ease-out; }
      .badge-icon { font-size: 2.5rem; margin-bottom: 8px; filter: grayscale(100%); opacity: 0.3; transition: all 0.3s; }
      .badge.earned .badge-icon { filter: none; opacity: 1; }
      .badge-title { font-size: 0.9rem; font-weight: 600; color: var(--text); }
      .badge-tooltip { position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background: var(--dark); color: white; padding: 8px 12px; border-radius: 6px; font-size: 0.8rem; white-space: nowrap; opacity: 0; pointer-events: none; transition: opacity 0.2s; margin-bottom: 10px; z-index: 10; }
      .badge-tooltip::after { content: ''; position: absolute; top: 100%; left: 50%; transform: translateX(-50%); border: 5px solid transparent; border-top-color: var(--dark); }
      .badge:hover .badge-tooltip { opacity: 1; }
      .badge-controls { text-align: center; margin-top: 20px; }
      
      /* Congratulations Modal */
      .congrats-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; display: none; }
      .congrats-message { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 40px; border-radius: 16px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); z-index: 1001; text-align: center; display: none; max-width: 90%; animation: popIn 0.4s ease-out; }
      @keyframes popIn { 0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; } 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; } }
      @keyframes badgePop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
      @keyframes badgePulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
      
      /* Modal Styles */
      .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; display: none; align-items: center; justify-content: center; padding: 16px; }
      .modal-overlay.show { display: flex; animation: fadeIn 0.3s; }
      .modal-content { background: white; padding: 24px 28px; border-radius: 8px; max-width: 550px; width: 100%; max-height: 80vh; overflow-y: auto; box-shadow: 0 8px 32px rgba(0,0,0,0.4); animation: slideUp 0.35s; }
      @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
      .modal-content h2 { color: var(--accent-2); font-size: 1.3rem; margin: 0 0 12px 0; line-height: 1.3; }
      .modal-content p { font-size: 0.9rem; line-height: 1.5; margin: 0; }
      .modal-content ul { text-align: left; margin: 16px 0; padding-left: 24px; }
      .modal-content li { margin-bottom: 10px; font-size: 0.9rem; line-height: 1.5; }
      .modal-content .btn { margin-top: 0; }
      @media (max-width: 768px) {
        .modal-content { padding: 20px; max-height: 85vh; max-width: 95%; }
        .modal-content h2 { font-size: 1.2rem; }
        .modal-content li { font-size: 0.85rem; margin-bottom: 8px; }
      }
    </style>
</head>
<body>

 <header class="site-header">
     <a href="claude_code_for_financial_consultants_index.html" class="logo">Claude for Consultants</a>
     <span style="font-size:0.9rem;opacity:0.8;">Module 5 of 6</span>
 </header>

 <nav class="module-nav" role="navigation" aria-label="Course modules">
     <div class="module-nav-wrapper">
         <div class="nav-controls">
             <button class="nav-btn nav-btn-prev" id="navPrev" aria-label="Previous modules">‹</button>
             <button class="nav-btn nav-btn-next" id="navNext" aria-label="Next modules">›</button>
         </div>
         <div class="module-nav-inner" id="moduleNavInner">
             <a href="claude_code_for_financial_consultants_part_0.html" class="module-link" data-module="0">
                 <span class="module-num">M0</span> Introduction
             </a>
             <a href="claude_code_for_financial_consultants_part_1.html" class="module-link" data-module="1">
                 <span class="module-num">M1</span> Orientation
             </a>
             <a href="claude_code_for_financial_consultants_part_2.html" class="module-link" data-module="2">
                 <span class="module-num">M2</span> Installation
             </a>
             <a href="claude_code_for_financial_consultants_part_3.html" class="module-link" data-module="3">
                 <span class="module-num">M3</span> First Changes
             </a>
             <a href="claude_code_for_financial_consultants_part_4.html" class="module-link" data-module="4">
                 <span class="module-num">M4</span> CLAUDE.md
             </a>
             <a href="claude_code_for_financial_consultants_part_5.html" class="module-link active" data-module="5">
                 <span class="module-num">M5</span> AI-Native
             </a>
         </div>
     </div>
 </nav>

 <div class="container">
   
    <!-- 1. MODULE INTRO HEADER -->
    <section class="module-section">
        <h1><span class="icon-prefix">🚀</span>Module 5: Becoming an AI-Native Consultant</h1>
        <p class="byline">From Editing Code to Engineering Insight</p>
        <div class="quote-banner">
            <p style="margin:0;">“The goal is to turn data into information, and information into insight. Tools don’t change firms—mindsets do.”</p>
        </div>
        <h4>In this final, capstone module, you will elevate your skills to:</h4>
        <ol>
            <li><strong>Build an "automation chain"</strong> to link multiple, complex tasks into a single, cohesive workflow.</li>
            <li><strong>Orchestrate Claude as a strategic partner</strong> across a realistic, multi-step consulting scenario.</li>
            <li><strong>Apply a robust ethics and governance framework</strong> to ensure your AI-assisted work is responsible and defensible.</li>
            <li><strong>Design a tangible, personal roadmap</strong> to begin transforming your own practice with AI.</li>
        </ol>
    </section>

    <!-- 2. WHY AI-NATIVE CONSULTING MATTERS -->
    <section class="module-section">
        <h2><span class="icon-prefix">✨</span>The Evolution of Your Professional Value</h2>
        <p>You've successfully learned to use Claude as a powerful tool. The final, crucial evolution is to integrate it as a strategic partner. This means shifting your focus from executing discrete prompts to designing and overseeing automated workflows. You are no longer just *doing* the work; you are *designing the system that does the work*. This is the leap from digital competence to AI-native leadership.</p>
        <div class="infographic-grid">
            <div class="infographic-card">
                <div class="icon">📝</div>
                <h4>Yesterday: The Manual Craftsman</h4>
                <p>Hours spent manually gathering data, formatting slides, and writing summaries from scratch. Your value was proportional to the hours you put in—your value was in the *labor*.</p>
            </div>
            <div class="infographic-card today">
                <div class="icon">👉</div>
                <h4>Today: The AI Director</h4>
                <p>You use Claude to execute specific tasks—drafting an email, building a calculator, summarizing a document. Your value is in *directing* the labor efficiently.</p>
            </div>
            <div class="infographic-card">
                <div class="icon">🏗️</div>
                <h4>Tomorrow: The Insight Architect</h4>
                <p>You design and oversee multi-step "automation chains" that autonomously conduct analyses and generate reports. Your value is in *designing the system* and interpreting its output.</p>
            </div>
        </div>
        <div class="context-box" style="text-align:center; margin-top: 24px;">
            <h3>Claude isn’t here to replace your judgment. It’s here to amplify your advisory reach and automate the toil that stands between data and insight.</h3>
        </div>
    </section>

    <!-- 3. AUTOMATION CHAIN VISUALIZER (Redesigned & Elegant) -->
    <section class="module-section">
        <h2><span class="icon-prefix">🔗</span>The Automation Chain: From Toil to Workflow</h2>
        <p>An "automation chain" is a sequence of related prompts where the output of one step provides the necessary context for the next. It's how you teach Claude to perform a complete, multi-stage task. <strong>Click each card to flip and see the actual prompt.</strong></p>
        
        <div class="carousel-container">
            <button class="carousel-nav" id="carousel-prev">❮</button>
            <div id="carousel-deck">
                <!-- Flip cards will be injected by JS -->
            </div>
            <button class="carousel-nav" id="carousel-next">❯</button>
        </div>
        <div class="carousel-footer">
            <div id="carousel-counter">Step 1 of 4</div>
        </div>
    </section>

    <!-- 4. HANDS-ON CASE STUDY WITH REAL DATA -->
    <section class="module-section">
        <h2><span class="icon-prefix">📈</span>Hands-On Case Study: Q4 Financial Risk Analysis</h2>
        <p>Now it's time to move from theory to practice. You have <strong>real financial data</strong> for 6 companies in <code>Q4_financials.csv</code>. Let's build a complete automation chain to identify risks and generate client communications.</p>
        
        <div style="background: var(--info-soft); border-left: 4px solid var(--info); padding: 24px; border-radius: 8px; margin: 24px 0;">
            <h4 style="margin: 0 0 16px 0; color: var(--info); font-size: 1.2rem;">📁 Download Practice Files</h4>
            <p style="margin: 0 0 16px 0; font-size: 0.95rem;">Click each file to download, then move them to your <code>Claude_Practice</code> folder:</p>
            <div style="display: grid; gap: 12px;">
                <a href="Q4_financials.csv" download class="asset-download-link" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: white; border: 2px solid var(--info); border-radius: 8px; text-decoration: none; color: var(--text); transition: all 0.2s;">
                    <span style="font-size: 1.5rem;">📊</span>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--info);">Q4_financials.csv</div>
                        <div style="font-size: 0.85rem; color: #6c757d;">Financial data for 6 companies (Oct-Dec 2024)</div>
                    </div>
                    <span style="background: var(--info); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">REQUIRED</span>
                </a>
                <a href="client_success_story.md" download class="asset-download-link" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: white; border: 2px solid #6c757d; border-radius: 8px; text-decoration: none; color: var(--text); transition: all 0.2s;">
                    <span style="font-size: 1.5rem;">📝</span>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--text);">client_success_story.md</div>
                        <div style="font-size: 0.85rem; color: #6c757d;">Case study template for branding exercises</div>
                    </div>
                    <span style="background: #6c757d; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">OPTIONAL</span>
                </a>
                <a href="CLAUDE_TEMPLATE_Financial.md" download class="asset-download-link" style="display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: white; border: 2px solid var(--warning); border-radius: 8px; text-decoration: none; color: var(--text); transition: all 0.2s;">
                    <span style="font-size: 1.5rem;">⚙️</span>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--warning);">CLAUDE_TEMPLATE_Financial.md</div>
                        <div style="font-size: 0.85rem; color: #6c757d;">Professional context template with standards</div>
                    </div>
                    <span style="background: var(--warning); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">RECOMMENDED</span>
                </a>
            </div>
            <p style="margin: 16px 0 0 0; padding-top: 16px; border-top: 1px solid #dee2e6; font-size: 0.9rem; color: #495057;">💡 <strong>Tip:</strong> All files are in the same folder as this HTML module. Download and save them to your practice workspace.</p>
        </div>

        <p style="margin: 32px 0 24px 0; font-size: 1.05rem; line-height: 1.7; color: var(--text);">
            Once you've downloaded the files, follow this <strong>4-step automation chain</strong>. Each step builds on the previous one, demonstrating how Claude transforms from a single-task assistant into an orchestrated workflow partner. <strong>Click each accordion to expand</strong> and see the full prompt with copy button.
        </p>

        <div class="accordion" id="case-study-accordion">
            <!-- Case study steps will be injected by JS -->
        </div>
        <!-- Redesigned Poll as Governance Checkpoint -->
        <div class="poll-v2-container" style="margin-top: 32px;">
            <h4>Governance Checkpoint</h4>
            <p>In the 4-step case study above, which stage benefits most from your direct human oversight and strategic judgment?</p>
            <div id="oversight-quiz">
                <!-- V2 Quiz options injected by JS -->
            </div>
            <div id="poll-v2-analysis">
                <h4>Analysis</h4>
                <p id="poll-analysis-text"></p>
            </div>
        </div>
    </section>

    <!-- 5. GOVERNANCE AND ETHICS ZONE -->
    <section class="module-section">
        <h2><span class="icon-prefix">🛡️</span>Governance and Ethics: Your Role as the Human in the Loop</h2>
        <p>As you automate more complex workflows, your responsibility as a governor becomes paramount. AI-native consulting is not about blind automation; it's about building systems of amplification that are transparent, secure, and accountable. These three principles are non-negotiable.</p>
        <div class="governance-grid">
            <div class="governance-card transparency">
                <h4>🪞 Transparency</h4>
                <p>You must always be able to explain *why* the AI made a specific recommendation. If Claude produces an insight, use a follow-up prompt: "Explain the logic behind that conclusion and cite the data points you used." If you can't verify it, you can't recommend it.</p>
            </div>
            <div class="governance-card confidentiality">
                <h4>🔒 Data Confidentiality</h4>
                <p>Never, under any circumstances, input raw, sensitive, or personally identifiable client information into the model. Your `CLAUDE.md` must contain a "Guardrails" section explicitly forbidding this. All data must be anonymized before use.</p>
            </div>
            <div class="governance-card accountability">
                <h4>🤝 Human Accountability</h4>
                <p>The AI is your tool, not your replacement. You, the consultant, are always the final, accountable authority for any advice given or decision made. Your approval on a change is your professional signature and carries your reputation.</p>
            </div>
        </div>
         <p style="text-align:center; margin-top:32px; font-size: 0.9em;">For a deeper dive, please review <a href="https://www.anthropic.com/news/core-views-on-ai-safety" target="_blank" rel="noopener">Anthropic's Core Principles for Responsible AI</a>.</p>
    </section>

    <!-- 6. AI ROADMAP BUILDER -->
    <section class="module-section">
        <h2><span class="icon-prefix">🗺️</span>Build Your Personal AI-Native Roadmap</h2>
        <p style="text-align: left;">This is where theory becomes action. Use this interactive builder to design a tangible, one-page plan for integrating an AI-powered workflow into your own practice. Be specific and realistic. Use the templates (#01-#05) for inspiration or write your own.</p>
        
        <div class="roadmap-builder" id="roadmap-builder">
            <form id="roadmap-form">
                <!-- Field 1 -->
                <div class="form-field">
                    <label for="roadmap-problem">1. My Most Repetitive, Time-Consuming Workflow Problem 
                        <span style="font-size: 0.85rem; color: var(--warning); font-weight: normal;">(Min 30 characters)</span>
                    </label>
                    <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                        <select id="template-problem" class="template-selector" style="flex: 1; padding: 8px; border: 2px solid var(--border); border-radius: 6px;">
                            <option value="">💡 Select a template or write your own...</option>
                            <option value="#01">Template #01: Client Report Generation</option>
                            <option value="#02">Template #02: Data Analysis & Insights</option>
                            <option value="#03">Template #03: Meeting Summaries</option>
                            <option value="#04">Template #04: Email Correspondence</option>
                            <option value="#05">Template #05: Compliance Documentation</option>
                        </select>
                    </div>
                    <textarea id="roadmap-problem" rows="3" placeholder="Try Template #01-#05 above, or write your own (e.g., 'Manually creating weekly client status reports from scattered project notes, emails, and meeting transcripts—takes 2-3 hours per client')" required style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                    <div class="char-counter" style="text-align: right; font-size: 0.85rem; color: var(--text-muted); margin-top: 4px;">
                        <span id="problem-count">0</span> / 30 characters minimum
                    </div>
                </div>
                
                <!-- Field 2 -->
                <div class="form-field" style="margin-top: 24px;">
                    <label for="roadmap-automation">2. The First 3 Steps of an Automation Chain to Solve It 
                        <span style="font-size: 0.85rem; color: var(--warning); font-weight: normal;">(Min 50 characters)</span>
                    </label>
                    <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                        <select id="template-automation" class="template-selector" style="flex: 1; padding: 8px; border: 2px solid var(--border); border-radius: 6px;">
                            <option value="">💡 Select a template or write your own...</option>
                            <option value="#01">Template #01: Report Generation Chain</option>
                            <option value="#02">Template #02: Data Analysis Chain</option>
                            <option value="#03">Template #03: Summary Chain</option>
                            <option value="#04">Template #04: Email Drafting Chain</option>
                            <option value="#05">Template #05: Documentation Chain</option>
                        </select>
                    </div>
                    <textarea id="roadmap-automation" rows="4" placeholder="Try Template #01-#05 above, or write your own (e.g., '1. Claude analyzes all input sources and extracts key decisions, blockers, and progress metrics. 2. Claude drafts a structured summary with sections: Wins, Concerns, Next Steps. 3. Claude formats output as a professional Markdown email template.')" required style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                    <div class="char-counter" style="text-align: right; font-size: 0.85rem; color: var(--text-muted); margin-top: 4px;">
                        <span id="automation-count">0</span> / 50 characters minimum
                    </div>
                </div>
                
                <!-- Field 3 -->
                <div class="form-field" style="margin-top: 24px;">
                    <label for="roadmap-risks">3. Key Risks & Governance Guardrails to Monitor 
                        <span style="font-size: 0.85rem; color: var(--warning); font-weight: normal;">(Min 30 characters)</span>
                    </label>
                    <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                        <select id="template-risks" class="template-selector" style="flex: 1; padding: 8px; border: 2px solid var(--border); border-radius: 6px;">
                            <option value="">💡 Select a template or write your own...</option>
                            <option value="#01">Template #01: Data Accuracy Risks</option>
                            <option value="#02">Template #02: Tone & Compliance Risks</option>
                            <option value="#03">Template #03: Confidentiality Risks</option>
                            <option value="#04">Template #04: Interpretation Risks</option>
                            <option value="#05">Template #05: Quality Control Risks</option>
                        </select>
                    </div>
                    <textarea id="roadmap-risks" rows="3" placeholder="Try Template #01-#05 above, or write your own (e.g., 'Risk: Claude might misinterpret technical jargon or miss context from prior conversations. Guardrail: I will cross-check all metrics against source documents and flag any anomalies before sending.')" required style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                    <div class="char-counter" style="text-align: right; font-size: 0.85rem; color: var(--text-muted); margin-top: 4px;">
                        <span id="risks-count">0</span> / 30 characters minimum
                    </div>
                </div>

                <!-- Field 4 -->
                <div class="form-field" style="margin-top: 24px;">
                    <label for="roadmap-checkpoints">4. My Irreplaceable Human Checkpoint 
                        <span style="font-size: 0.85rem; color: var(--warning); font-weight: normal;">(Min 30 characters)</span>
                    </label>
                    <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                        <select id="template-checkpoints" class="template-selector" style="flex: 1; padding: 8px; border: 2px solid var(--border); border-radius: 6px;">
                            <option value="">💡 Select a template or write your own...</option>
                            <option value="#01">Template #01: Strategic Review</option>
                            <option value="#02">Template #02: Relationship Context</option>
                            <option value="#03">Template #03: Compliance Validation</option>
                            <option value="#04">Template #04: Tone & Personalization</option>
                            <option value="#05">Template #05: Final Quality Gate</option>
                        </select>
                    </div>
                    <textarea id="roadmap-checkpoints" rows="3" placeholder="Try Template #01-#05 above, or write your own (e.g., 'I will personally review every draft for: (1) Strategic framing aligned with client goals, (2) Relationship-appropriate tone and sensitivity, (3) Actionable recommendations that reflect my professional judgment.')" required style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                    <div class="char-counter" style="text-align: right; font-size: 0.85rem; color: var(--text-muted); margin-top: 4px;">
                        <span id="checkpoints-count">0</span> / 30 characters minimum
                    </div>
                </div>

                <!-- Field 5 -->
                <div class="form-field" style="margin-top: 24px;">
                    <label for="roadmap-goal">5. My Concrete, Measurable 30-Day Goal 
                        <span style="font-size: 0.85rem; color: var(--warning); font-weight: normal;">(Min 30 characters)</span>
                    </label>
                    <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                        <select id="template-goal" class="template-selector" style="flex: 1; padding: 8px; border: 2px solid var(--border); border-radius: 6px;">
                            <option value="">💡 Select a template or write your own...</option>
                            <option value="#01">Template #01: Time Savings Goal</option>
                            <option value="#02">Template #02: Volume/Throughput Goal</option>
                            <option value="#03">Template #03: Quality Improvement Goal</option>
                            <option value="#04">Template #04: Skill Development Goal</option>
                            <option value="#05">Template #05: Process Refinement Goal</option>
                        </select>
                    </div>
                    <textarea id="roadmap-goal" rows="3" placeholder="Try Template #01-#05 above, or write your own (e.g., 'By March 31st, I will use this automation chain to generate first drafts for 5 client reports, reducing my drafting time from 2 hours to 45 minutes per report (62% time savings). Success metric: Client feedback scores remain ≥4.5/5.')" required style="width: 100%; padding: 12px; border: 2px solid var(--border); border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                    <div class="char-counter" style="text-align: right; font-size: 0.85rem; color: var(--text-muted); margin-top: 4px;">
                        <span id="goal-count">0</span> / 30 characters minimum
                    </div>
                </div>

                <div style="display: flex; gap: 12px; margin-top: 32px;">
                    <button type="button" id="preview-btn" class="btn secondary" style="flex: 1;">📄 Preview My Roadmap</button>
                    <button type="submit" id="download-btn" class="btn" style="flex: 1; background-color: var(--gold); color: var(--header-bg);" disabled>⬇️ Generate & Download</button>
                </div>
            </form>
            
            <!-- Preview Modal -->
            <div id="preview-modal" class="modal-overlay">
                <div class="modal-content" style="max-width: 800px; max-height: 90vh; display: flex; flex-direction: column; padding: 0; overflow: hidden; position: relative;">
                    <button onclick="closePreviewModal()" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.5); color: white; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; font-size: 1.4rem; font-weight: bold; display: flex; align-items: center; justify-content: center; transition: all 0.2s; z-index: 10; padding: 0; line-height: 1;" onmouseover="this.style.background='rgba(255,255,255,0.3)'; this.style.transform='rotate(90deg)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'; this.style.transform='rotate(0deg)'" title="Close preview">×</button>
                    <div style="padding: 24px 28px 20px; border-bottom: 2px solid var(--border); background: var(--accent-2);">
                        <h3 style="margin: 0; color: white; font-size: 1.3rem; display: flex; align-items: center; gap: 12px;">
                            <span style="font-size: 2rem;">📄</span>
                            <span>Your AI Roadmap Preview</span>
                        </h3>
                        <p style="margin: 8px 0 0 0; color: rgba(255,255,255,0.9); font-size: 0.9rem;">Review your personalized roadmap before downloading. Make sure it reflects your commitment to AI-native excellence.</p>
                    </div>
                    
                    <div id="preview-content" style="flex: 1; overflow-y: auto; padding: 24px 28px; background: #f8f9fa; font-family: 'Roboto Mono', monospace; font-size: 0.9rem; line-height: 1.7; white-space: pre-wrap; color: #2c3e50;"></div>
                    
                    <div style="padding: 20px 28px; border-top: 2px solid var(--border); background: white; display: flex; gap: 12px;">
                        <button class="btn secondary" onclick="closePreviewModal()" style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <span style="font-size: 1.2rem;">←</span>
                            <span>Edit More</span>
                        </button>
                        <button class="btn" onclick="approveAndDownload()" style="flex: 2; background: var(--gold); color: var(--header-bg); display: flex; align-items: center; justify-content: center; gap: 8px; font-weight: 600;">
                            <span style="font-size: 1.2rem;">✓</span>
                            <span>Looks Perfect - Download Now</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div id="roadmap-confirmation" style="display: none;">
                <h4 style="color: var(--ok); margin: 24px 0 12px 0;">✅ Success!</h4>
            <p>Your personal AI Roadmap has been generated and downloaded as <code>AI_Roadmap.md</code>. Open it to begin your journey!</p>
            <p style="margin-top: 12px; padding-top: 12px; border-top: 1px dashed var(--gold); font-style: italic; color: #495057; font-size: 0.95rem;">💡 <strong>Accountability tip:</strong> Share your roadmap with a peer or mentor. Regular check-ins turn plans into progress.</p>
        </div>
        </div>
    </section>

    <!-- 7. REFLECTION & MENTAL MODEL REINFORCEMENT -->
    <section class="module-section">
        <h2><span class="icon-prefix">🧘</span>Final Reflection: A New Professional Identity</h2>
        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 32px;">You've successfully completed this journey from first-time user to <strong>AI-native thinker</strong>. You can now build tools, design workflows, and govern automated systems. This isn't just a technical skill—it's a <em>new way of approaching your work</em>. Take a final moment to reflect on what this transformation means for your professional identity.</p>
        
        <div class="soft-card" style="border-left: 4px solid var(--accent); margin: 24px 0;">
            <h3 style="margin: 0 0 20px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 12px;">
                <span style="font-size: 2rem;">🤔</span>
                <span>Reflection Prompt #1: Redefining "Consulting"</span>
            </h3>
            <p style="font-size: 1.05rem; line-height: 1.7; margin: 0 0 16px 0; font-style: italic;">
                How does the ability to design and orchestrate automation chains change the very definition of "consulting" for you?
            </p>
            <div style="background: var(--muted); padding: 20px; border-radius: 8px; border: 1px solid var(--border);">
                <p style="margin: 0; font-size: 0.95rem; line-height: 1.6;">
                    <strong>💡 Consider:</strong> In the past, consulting meant <em>doing the analysis</em> and <em>presenting insights</em>. Now, it might mean <em>designing the system</em> that does the analysis, while you focus on <em>strategic interpretation</em> and <em>governance</em>. Are you becoming more of an architect? A conductor? A governor?
                </p>
        </div>
        </div>

        <div class="soft-card" style="border-left: 4px solid var(--success); margin: 24px 0;">
            <h3 style="margin: 0 0 20px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 12px;">
                <span style="font-size: 2rem;">💎</span>
                <span>Reflection Prompt #2: Your Irreplaceable Value</span>
            </h3>
            <p style="font-size: 1.05rem; line-height: 1.7; margin: 0 0 16px 0; font-style: italic;">
                With AI handling the laborious task of synthesis, which of your uniquely human skills—empathy, strategic foresight, ethical judgment, relationship building—becomes exponentially <em>more</em> valuable?
            </p>
            <div style="background: var(--muted); padding: 20px; border-radius: 8px; border: 1px solid var(--border);">
                <p style="margin: 0 0 12px 0; font-size: 0.95rem; line-height: 1.6;">
                    <strong>💡 Consider:</strong> Claude can analyze data, draft summaries, and generate reports. But it cannot:
                </p>
                <ul style="margin: 0; padding-left: 20px; font-size: 0.95rem; line-height: 1.6;">
                    <li>Sense when a client is anxious about their portfolio (even if they don't say it) 🫱🏾‍🫲🏽</li>
                    <li>Predict how a regulatory shift will impact your client's 5-year plan 🔮</li>
                    <li>Navigate the ethical gray zone when data suggests one action but relationships suggest another ⚖️</li>
                    <li>Build the trust that makes clients choose <em>you</em> over a chatbot 🤝</li>
                </ul>
                <p style="margin: 16px 0 0 0; padding-top: 16px; border-top: 1px solid var(--border); font-size: 0.95rem; line-height: 1.6;">
                    <strong>🎯 Key Insight:</strong> As AI becomes better at <em>information work</em>, your value shifts entirely to <em>relationship work, judgment work, and governance work</em>. These are the skills that compound—and they can't be automated.
                </p>
            </div>
        </div>

        <div class="soft-card" style="border-left: 4px solid var(--info); margin: 24px 0;">
            <h3 style="margin: 0 0 20px 0; font-size: 1.3rem; display: flex; align-items: center; gap: 12px;">
                <span style="font-size: 2rem;">🌟</span>
                <span>Reflection Prompt #3: Your Next 90 Days</span>
            </h3>
            <p style="font-size: 1.05rem; line-height: 1.7; margin: 0 0 16px 0; font-style: italic;">
                What is ONE workflow in your practice that you will automate in the next 90 days? What human skill will you reclaim by doing so?
            </p>
            <div style="background: var(--muted); padding: 20px; border-radius: 8px; border: 1px solid var(--border);">
                <p style="margin: 0; font-size: 0.95rem; line-height: 1.6;">
                    <strong>💡 Commitment Framework:</strong> Write it down. Make it specific. Share it with a colleague. Accountability transforms intention into action. Example: "I will automate my quarterly client report generation by March 15th. This will free up 4 hours/week that I'll redirect to strategic planning calls with my top 3 clients."
                </p>
            </div>
        </div>

        <div class="soft-card" style="text-align: center; margin: 48px 0; padding: 40px; border: 2px solid var(--gold);">
            <div style="font-size: 5rem; margin-bottom: 16px; animation: badgePulse 2s infinite;">🏆</div>
            <h3 style="margin: 0 0 12px 0; font-size: 1.5rem; color: var(--accent-2); font-weight: 700;">Achievement Unlocked</h3>
            <p style="margin: 0; font-size: 1.2rem; color: var(--accent); font-weight: 600; letter-spacing: 1px;">AI-NATIVE CONSULTANT</p>
            <p style="margin: 16px auto 0; max-width: 600px; font-size: 0.95rem; color: #6c757d; line-height: 1.6;">You've mastered the tools, internalized the workflows, and adopted the governance mindset. You're no longer learning AI—you're <em>thinking</em> with it.</p>
        </div>
    </section>

    <!-- 7. MODULE 5 ACHIEVEMENT BADGES -->
    <section class="module-section">
        <h2><span class="icon-prefix">🏆</span>Module 5 Achievement Badges</h2>
        <p style="margin-bottom: 32px; color: #6c757d; font-size: 1rem; text-align: left;">Track your progress through AI-native consulting milestones. Click each badge as you complete the milestone. Hover to see details.</p>
        
        <div class="badge-progress" id="badge-progress" style="text-align: center; font-size: 1.1rem; font-weight: 600; color: var(--accent); margin-bottom: 24px;">0 of 6 badges earned</div>
        
        <div class="milestone-badges" id="milestone-badges">
            <div class="badge" data-badge="first-chain" data-desc="Created your first multi-step automation chain">
                <div class="badge-tooltip">Created your first multi-step automation chain</div>
                <div class="badge-icon">⛓️</div>
                <div class="badge-title">First Chain</div>
            </div>
            <div class="badge" data-badge="claude-md-master" data-desc="Built a comprehensive CLAUDE.md with all key sections">
                <div class="badge-tooltip">Built a comprehensive CLAUDE.md with all key sections</div>
                <div class="badge-icon">📋</div>
                <div class="badge-title">CLAUDE.md Master</div>
            </div>
            <div class="badge" data-badge="governance-guardian" data-desc="Implemented oversight checkpoints in your workflow">
                <div class="badge-tooltip">Implemented oversight checkpoints in your workflow</div>
                <div class="badge-icon">🛡️</div>
                <div class="badge-title">Governance Guardian</div>
            </div>
            <div class="badge" data-badge="roadmap-architect" data-desc="Designed a personal AI-native roadmap">
                <div class="badge-tooltip">Designed a personal AI-native roadmap</div>
                <div class="badge-icon">🗺️</div>
                <div class="badge-title">Roadmap Architect</div>
            </div>
            <div class="badge" data-badge="case-study-champion" data-desc="Completed the Q4 Financial Risk Analysis case study">
                <div class="badge-tooltip">Completed the Q4 Financial Risk Analysis case study</div>
                <div class="badge-icon">📊</div>
                <div class="badge-title">Case Study Champion</div>
            </div>
            <div class="badge" data-badge="ai-native-consultant" data-desc="Completed all Module 5 reflections and milestones">
                <div class="badge-tooltip">Completed all Module 5 reflections and milestones</div>
                <div class="badge-icon">🎓</div>
                <div class="badge-title">AI-Native Consultant</div>
            </div>
        </div>
        <div class="badge-controls">
            <button class="btn secondary" id="reset-badges">Reset All Badges</button>
        </div>
        
        <!-- Congratulations Modal (Module 3 Style) -->
        <div class="congrats-overlay" id="congrats-overlay"></div>
        <div class="congrats-message" id="congrats-message">
            <div style="font-size: 4rem; margin-bottom: 20px;">🎉</div>
            <h3 style="margin: 0 0 10px; color: var(--accent);" id="congrats-title">Achievement Unlocked!</h3>
            <p style="margin: 0; font-size: 1.1rem;" id="congrats-text">You earned a badge!</p>
            <button class="btn" style="margin-top: 20px;" onclick="closeCongratsModal()">Awesome!</button>
        </div>
    </section>

    <!-- 7.5 Knowledge Check (8 MCQs) -->
    <section class="module-section" id="m5-quiz">
        <h2><span class="icon-prefix">🧩</span>Knowledge Check</h2>
        <p style="margin-bottom: 24px; color: #6c757d;">Eight focused questions on Module 5: batching, governance, CLAUDE.md, assets, and the Roadmap Builder.</p>
        <div class="quiz-container">
            <div class="quiz-navigation">
                <button class="btn" id="m5Prev">❮ Previous</button>
                <span class="question-counter"><span id="m5Current">1</span> of <span id="m5Total">8</span></span>
                <button class="btn" id="m5Next">Next ❯</button>
            </div>
            <div id="m5QuizBody" class="quiz-body-container"></div>
        </div>
    </section>

    <!-- 8. FAQ + GLOSSARY MICROHUB -->
    <section class="module-section">
        <h2><span class="icon-prefix">❓</span>FAQ & Glossary Hub</h2>
        <div class="accordion" id="faq-accordion">
            <!-- FAQs will be injected by JS -->
        </div>
        <h3 style="margin-top: 60px;">📚 Capstone Glossary</h3>
        <p style="color: #6c757d; font-size: 0.95rem; margin-bottom: 20px;">Key terms and concepts from this module, with associated roles and thought leaders.</p>
        <div style="overflow-x: auto;">
            <table class="glossary-table" id="glossary-table">
                <thead>
                    <tr>
                        <th style="min-width: 150px;">Term</th>
                        <th style="min-width: 250px;">Description</th>
                        <th style="min-width: 140px;">Associated Role</th>
                        <th style="min-width: 200px;">Thought Leader</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Glossary will be injected by JS -->
                </tbody>
            </table>
        </div>
    </section>

    <!-- 9. BRIDGE TO BEYOND -->
    <section class="module-section">
        <div class="final-bridge" id="final-bridge">
            <h2>Beyond the Course: Scaling Your AI Practice</h2>
            <p>You've mastered the art of collaborating with Claude Code. Your journey now shifts from personal skill-building to organizational leadership. The next step is to build your firm's **AI Practice Library**—a centralized, living repository of reusable prompts, `CLAUDE.md` templates, and governance checklists that will scale these capabilities across your entire team.</p>
            <button class="btn" id="comingSoonBtn" style="background: var(--gold); color: var(--header-bg); border: 1px solid var(--accent-2);">Coming Soon!</button>
        </div>
    </section>

 </div>

 <!-- Modal for Coming Soon -->
 <div class="modal-overlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
        <h2 id="modal-title">🚀 Coming Soon: Advanced AI Practice Resources</h2>
        <p style="text-align: center; margin-bottom: 20px;">You've completed the foundational series! Here's your journey:</p>
        
        <div class="journey-timeline">
            <div class="timeline-item">
                <div class="timeline-marker">0</div>
                <div class="timeline-content">
                    <strong>Module 0: Introduction</strong>
                    <p>Understanding Claude Code as an official IDE-integrated coding assistant</p>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-marker">1</div>
                <div class="timeline-content">
                    <strong>Module 1: Orientation</strong>
                    <p>Workspace setup and licensing overview in VS Code</p>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-marker">2</div>
                <div class="timeline-content">
                    <strong>Module 2: Installation</strong>
                    <p>Authentication and the approval workflow</p>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-marker">3</div>
                <div class="timeline-content">
                    <strong>Module 3: First Changes</strong>
                    <p>Making real edits with explicit human-in-the-loop control</p>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-marker">4</div>
                <div class="timeline-content">
                    <strong>Module 4: Context Files</strong>
                    <p>Teaching Claude using CLAUDE.md for better results</p>
                </div>
            </div>
            <div class="timeline-item">
                <div class="timeline-marker">5</div>
                <div class="timeline-content">
                    <strong>Module 5: AI-Native Practice</strong>
                    <p>Automation chains and ethical governance frameworks</p>
                </div>
            </div>
        </div>
        
        <p style="text-align: center; margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--border); font-style: italic; color: #6c757d; font-size: 0.9rem;">The next chapter—building firm-wide AI Practice Libraries, advanced prompt orchestration, and team governance—is under development.</p>
        <div style="display: flex; gap: 10px; margin-top: 16px;">
            <button class="btn" onclick="window.open('#', '_blank')" style="flex: 1; background: var(--gold); color: var(--header-bg);">📧 Join Early Access</button>
            <button class="btn secondary" onclick="closeModal()" style="flex: 1;">Close</button>
        </div>
    </div>
 </div>

 <footer class="site-footer">
   <p>Module 5 of 5 in the "Claude for Consultants" Series</p>
 </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- Module Navigation with Completion Tracking ---
    const currentModule = 5;
    
    // Mark completed modules in nav
    for (let i = 0; i < currentModule; i++) {
        if (localStorage.getItem(`module${i}_completed`)) {
            const link = document.querySelector(`.module-link[data-module="${i}"]`);
            if (link) link.classList.add('completed');
        }
    }
    
    // Header and Nav Minimization on Scroll
    const siteHeader = document.querySelector('.site-header');
    const moduleNav = document.querySelector('.module-nav');
    let lastScrollTop = 0;
    
    // Mark current module as completed when user scrolls to bottom
    let completionMarked = false;
    window.addEventListener('scroll', () => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // Minimize header and nav when scrolling down past 100px
        if (scrollTop > 100 && scrollTop > lastScrollTop) {
            siteHeader.classList.add('minimized');
            moduleNav.classList.add('minimized');
        } else if (scrollTop <= 50) {
            siteHeader.classList.remove('minimized');
            moduleNav.classList.remove('minimized');
        }
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        
        // Completion tracking
        if (completionMarked) return;
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        
        if (scrollTop + clientHeight >= scrollHeight - 100) {
            localStorage.setItem(`module${currentModule}_completed`, 'true');
            completionMarked = true;
            const link = document.querySelector(`.module-link[data-module="${currentModule}"]`);
            if (link) link.classList.add('completed');
        }
    });
    
    // Mobile carousel navigation
    const navInner = document.getElementById('moduleNavInner');
    const navPrev = document.getElementById('navPrev');
    const navNext = document.getElementById('navNext');
    
    if (navInner && navPrev && navNext) {
        // Scroll to active module on load (mobile)
        const activeLink = navInner.querySelector('.module-link.active');
        if (activeLink && window.innerWidth <= 768) {
            activeLink.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        }
        
        // Prev/Next button handlers
        navPrev.addEventListener('click', () => {
            navInner.scrollBy({ left: -160, behavior: 'smooth' });
        });
        
        navNext.addEventListener('click', () => {
            navInner.scrollBy({ left: 160, behavior: 'smooth' });
        });
        
        // Update button states on scroll
        function updateNavButtons() {
            const scrollLeft = navInner.scrollLeft;
            const scrollWidth = navInner.scrollWidth;
            const clientWidth = navInner.clientWidth;
            
            navPrev.disabled = scrollLeft <= 0;
            navNext.disabled = scrollLeft + clientWidth >= scrollWidth - 5;
        }
        
        navInner.addEventListener('scroll', updateNavButtons);
        window.addEventListener('resize', updateNavButtons);
        updateNavButtons();
    }
    

    // --- Data for flip card carousel ---
    const automationChainData = [
        { 
            step: "1", 
            title: "Data Review", 
            purpose: "Start by asking Claude to analyze raw data and surface key patterns. This is where speed meets insight—Claude can scan hundreds of rows in seconds.",
            prompt: 'claude "Review the attached Q4_financials.csv and identify 3 key anomalies or trends."',
            emoji: "📊"
        },
        { 
            step: "2", 
            title: "Insight Draft", 
            purpose: "Take Claude's findings and ask it to explain the 'why' behind the numbers. This step transforms data points into a narrative your client can understand.",
            prompt: 'claude "Based on the previous analysis, draft a 2-paragraph insight summary explaining the likely causes of these trends."',
            emoji: "💡"
        },
        { 
            step: "3", 
            title: "Client Email", 
            purpose: "Convert the insight into client-ready communication. Your CLAUDE.md ensures the tone stays consistent with your firm's voice—professional, confident, reassuring.",
            prompt: 'claude "Convert the insight summary into a professional, reassuring client email. Use the tone defined in CLAUDE.md."',
            emoji: "✉️"
        },
        { 
            step: "4", 
            title: "Meeting Prep", 
            purpose: "Close the loop by preparing the next conversation. Claude generates a structured agenda so you walk into the meeting ready to guide, not scramble.",
            prompt: 'claude "Generate a 3-point agenda for a follow-up client meeting based on the email content."',
            emoji: "📅"
        }
    ];

    const caseStudyData = [
        { title: "Chain Step 1: Analyze Q4 Performance Data", content: `<p>Your first task is to understand the Q4 financial landscape across your 6 portfolio companies. Let Claude do the heavy lifting of data analysis.</p><div class='copy-code-container'><pre><code>claude "Review Q4_financials.csv and provide:
1. Rank all 6 companies by total Q4 profit growth (Oct to Dec)
2. Identify any companies with declining revenue in November
3. Calculate average profit margin for each company across Q4
4. Flag any concerning trends that require immediate attention"</code></pre><button class='copy-code-btn' onclick='copyCode(this)'>📋 Copy</button></div><h4>Expected Output Pattern:</h4><div class='soft-card' style='background:var(--ok-soft); border-left: 4px solid var(--ok);'><p><strong>Q4 Performance Analysis Complete</strong><br><br><strong>Top Performers by Profit Growth:</strong><br>1. TechStart Inc: +98.2% ($56K → $111K)<br>2. EcomGrowth: +35.8% ($67K → $91K)<br><br><strong>⚠️ Alert - November Decline:</strong><br>• RetailHub Ltd: Revenue dropped -7.8% in November<br>• MediaCorp: Revenue dropped -4.9% in November<br><br><strong>Average Q4 Profit Margins:</strong><br>• TechStart Inc: 31.5%<br>• ConsultPro: 23.2%<br>• MediaCorp: 13.9% (Below industry standard)</p></div><p style='margin-top: 16px;'><strong>💡 Key Learning:</strong> This single prompt replaces hours of manual Excel analysis. Claude processes the CSV, performs calculations, and identifies patterns you need to act on.</p>` },
        { title: "Chain Step 2: Generate Risk Matrix for At-Risk Clients", content: `<p>Now that you've identified concerning trends, create a formal risk assessment. This is where context from your <code>CLAUDE.md</code> ensures consistent classification.</p><div class='copy-code-container'><pre><code>claude "Based on the Q4_financials.csv analysis, create a risk matrix for companies showing:
- Declining revenue trends
- Profit margins below 15%
- Negative YoY growth

Format as a markdown table with columns: Company | Risk Level (High/Medium/Low) | Primary Concern | Recommended Action"</code></pre><button class='copy-code-btn' onclick='copyCode(this)'>📋 Copy</button></div><h4>Expected Output Pattern:</h4><div class='soft-card' style='background:var(--warning-soft); border-left: 4px solid var(--warning);'><p><strong>Risk Assessment Matrix</strong><br><br>| Company | Risk Level | Primary Concern | Recommended Action |<br>|---------|-----------|-----------------|-------------------|<br>| RetailHub Ltd | High | Consecutive monthly revenue decline | Schedule emergency strategy review |<br>| MediaCorp | Medium | Low profit margin (13.9%) + volatility | Conduct cost structure audit |<br>| FinServe Co | Low | Stable but slow growth | Monitor for Q1 acceleration |</p></div><p style='margin-top: 16px;'><strong>🛡️ Human Checkpoint:</strong> This is where YOU step in. Review the risk classifications. Does Claude's assessment match your business intuition? Adjust levels based on qualitative factors Claude can't know (e.g., upcoming product launches, industry disruption).</p>` },
        { title: "Chain Step 3: Draft Personalized Client Outreach Emails", content: `<p>With risk levels confirmed, it's time to communicate. Claude will generate personalized emails, but you maintain final editorial control.</p><div class='copy-code-container'><pre><code>claude "For each HIGH or MEDIUM risk company from the risk matrix, draft a professional email to the CFO:
- Start with a specific positive metric from their Q4 data
- Mention the concern diplomatically
- Offer to schedule a strategic planning call
- Use formal tone (Dear [Name], Best regards)
- Keep each email under 150 words

Use data from Q4_financials.csv for personalization."</code></pre><button class='copy-code-btn' onclick='copyCode(this)'>📋 Copy</button></div><h4>Expected Output Pattern:</h4><div class='soft-card' style='background:var(--info-soft); border-left: 4px solid var(--info);'><p><strong>Email 1 - RetailHub Ltd</strong><br><br>Subject: Q4 Review & Strategic Planning Opportunity<br><br>Dear [CFO Name],<br><br>Your December performance was impressive—$689K in revenue with strong profit margins. However, we noticed November showed an -7.8% revenue dip that warrants discussion.<br><br>I'd like to schedule a brief call to understand the seasonal factors and explore strategies to smooth these fluctuations for Q1 2025...<br><br>Best regards,<br>[Your Name]</p></div><p style='margin-top: 16px;'><strong>✅ Human Approval Required:</strong> Read every email before sending. Check for tone, accuracy, and relationship context. Add personal touches Claude can't know ("Looking forward to seeing you at the conference next month").</p>` },
        { title: "Chain Step 4: Create Executive Dashboard Summary", content: `<p>Finally, you need a one-page summary for your firm's partners. Claude generates the structure; you add the strategic interpretation.</p><div class='copy-code-container'><pre><code>claude "Create an executive summary dashboard in markdown:
- Overall Q4 portfolio health score (1-10)
- Top 3 wins to celebrate
- Top 3 concerns requiring action
- Q1 2025 focus areas

Base entirely on Q4_financials.csv data. Include specific metrics and company names. Use emoji indicators (✅ 🟡 🔴) for visual clarity."</code></pre><button class='copy-code-btn' onclick='copyCode(this)'>📋 Copy</button></div><h4>Expected Output Pattern:</h4><div class='soft-card' style='background:var(--muted);'><p><strong>📊 Q4 2024 Portfolio Executive Summary</strong><br><br><strong>Portfolio Health Score: 7.5/10</strong> 🟢<br><br><strong>🎉 Top Wins:</strong><br>1. ✅ TechStart Inc profit doubled (+98%)<br>2. ✅ EcomGrowth maintained 22% growth momentum<br>3. ✅ ConsultPro achieved consistent 5%+ monthly growth<br><br><strong>⚠️ Concerns Requiring Action:</strong><br>1. 🔴 RetailHub Ltd revenue volatility<br>2. 🟡 MediaCorp profit margin compression<br>3. 🟡 FinServe Co growth deceleration<br><br><strong>Q1 2025 Focus:</strong> Cost optimization for low-margin clients, revenue smoothing strategies</p></div><p style='margin-top: 16px;'><strong>💼 Your Value-Add:</strong> Claude provided the data synthesis. You add the strategic narrative: WHY these trends matter, WHAT they mean for the portfolio, and HOW you'll address them. This is where your expertise shines.</p>` }
    ];

    const oversightQuizData = {
        correct: 1,
        options: [
            { 
                text: "1. Analyzing Q4 Financial Data", 
                analysis: "While Claude excels at calculations and pattern recognition, this stage is highly automatable. Data analysis is a perfect AI task—fast, accurate, and repeatable.",
                detailedFeedback: {
                    whyNotBest: "Data analysis is Claude's sweet spot. It can process thousands of data points, identify trends, and perform complex calculations in seconds. This is exactly what AI should handle.",
                    automationLevel: "🟢 Highly Automatable",
                    humanRole: "Your role: Set parameters, review outputs, and provide business context for interpretation.",
                    example: "Claude can instantly calculate YoY growth, identify outliers, and create trend visualizations. You focus on what the numbers mean for strategy."
                }
            },
            { 
                text: "2. Classifying Risk Levels", 
                analysis: "✓ This is the correct answer. Risk classification requires business judgment, industry context, and relationship knowledge that Claude doesn't have. You might know RetailHub's November dip was seasonal, or that MediaCorp is about to launch a new product. Claude gives you data patterns; you provide strategic interpretation.",
                detailedFeedback: {
                    whyBest: "Risk assessment combines quantitative data with qualitative business intelligence. You know client relationships, market conditions, and strategic context that Claude cannot access.",
                    automationLevel: "🔴 Requires Human Judgment",
                    humanRole: "Your role: Apply business acumen, relationship knowledge, and strategic foresight to interpret data patterns.",
                    example: "Claude sees 'declining revenue' but you know it's because the client is investing heavily in R&D for a breakthrough product launch next quarter."
                }
            },
            { 
                text: "3. Drafting Client Emails", 
                analysis: "Email drafting benefits from human review for tone and relationship context, but the initial draft is largely automatable once you've set tone guidelines in CLAUDE.md.",
                detailedFeedback: {
                    whyNotBest: "Email drafting is semi-automatable. Claude can generate professional drafts based on templates and tone guidelines, but relationship nuances require human touch.",
                    automationLevel: "🟡 Semi-Automatable",
                    humanRole: "Your role: Review tone, add personal touches, and ensure relationship-appropriate messaging.",
                    example: "Claude drafts the structure and content, but you add 'Hope your daughter's graduation went well' or adjust formality based on client relationship."
                }
            },
            { 
                text: "4. Creating Executive Summaries", 
                analysis: "Claude is excellent at synthesizing data into structured summaries. Human oversight ensures strategic framing, but the heavy lifting is automatable.",
                detailedFeedback: {
                    whyNotBest: "Summary creation is Claude's strength. It can synthesize complex data into clear, structured narratives. Human oversight ensures strategic framing.",
                    automationLevel: "🟢 Highly Automatable",
                    humanRole: "Your role: Provide strategic framing, ensure key messages align with business objectives, and add executive-level insights.",
                    example: "Claude creates the summary structure and content, but you ensure it emphasizes the right strategic priorities for your audience."
                }
            }
        ]
    };

    const faqData = [
        { q: "What is workflow chaining?", a: "Workflow chaining links multiple `claude` prompts so each step hands its output to the next. A typical chain might review data, draft insights, and produce a client summary—without repeating tone or goals. The payoff is consistency and speed: Claude remembers context so your chain stays aligned from start to finish. For example, at Big 4 firms, analysts chain quarterly reviews → insight drafts → executive summaries, cutting preparation time by 60% while maintaining quality." },
        { q: "How secure is client data in Claude Code?", a: "By default, files stay local and changes write only after approval. When you review diffs or share snippets, only the content you confirm is sent. Your duty: sanitize, remove identifiers, and follow firm policy. Treat Claude as a trusted assistant, not a data warehouse; keep sensitive data out of prompts. At Big 4 firms, all PII masking scripts run locally before AI calls. Best practice: create anonymized test datasets for workflow development, then apply chains to real data only after governance review." },
        { q: "Can Claude summarize financial models?", a: "Claude can interpret formulas, scripts, and CSVs to produce clear narratives and call out trends. It is not a validator or auditor. Cross-check key numbers and assumptions, and frame the narrative with professional judgment. Think of Claude's output as an expert draft that accelerates your analysis. Example: an M&A consultant uses Claude to draft deal rationale from DCF outputs, then validates assumptions manually. This cuts drafting time from 3 hours to 30 minutes while preserving rigor." },
        { q: "How do I share AI insights with clients?", a: "Create Markdown summaries or use the Roadmap Builder for polished deliverables. Keep an internal 'AI Review' stage where a human validates facts, tone, and recommendations before sending. Claude's drafts are starting points; your signature is the final quality and accountability check. Practical tip: add a footer to internal drafts: 'AI-assisted, human-reviewed by [Your Name]' to build stakeholder confidence. Over time, this transparency strengthens trust in your AI-assisted process." },
        { q: "Does AI replace human judgment?", a: "No. Claude accelerates the heavy lifting—reading, summarizing, formatting—so you can invest time in strategy, empathy, and narrative. You remain accountable for outcomes. Lean on Claude for scale, then apply your expertise to frame decisions and communicate with credibility. Think of it this way: Claude handles the 'what' (data patterns), you provide the 'so what' (strategic implications) and 'now what' (actionable recommendations). That's where consulting value lives." },
        { q: "What is an AI Practice Library?", a: "It's a living repository of reusable prompts, `CLAUDE.md` templates, workflow chains, and governance notes. Over time, it becomes your firm's shared memory for AI best practices—standardizing tone, speeding onboarding, and raising the baseline quality of AI-assisted work across teams. Top-performing firms version-control their libraries in Git, track prompt effectiveness metrics, and hold quarterly 'prompt retrospectives' to refine what works. This compounds learning across the organization." },
        { q: "How many steps are ideal in one chain?", a: "Start with 3–4 steps: review data, draft insight, format output, finalize email. Keep each step small and testable. As you gain confidence, add branches or checks. The goal is reliability and clarity rather than maximum length. Example: a compliance team uses a 5-step chain (extract → categorize → draft → legal review → format) that runs daily. Short chains are easier to debug and faster to refine when business needs change." },
        { q: "What if Claude goes off-tone mid-chain?", a: "Pause and reinforce tone explicitly in the next prompt, then update `CLAUDE.md` so the correction persists. Short example phrases help anchor voice. Consistency improves when durable tone guidance lives in your brief rather than one-off prompts. Real-world fix: a consultant noticed Claude shifting from 'confident' to 'apologetic' mid-chain. Adding 'Tone: professional, confident, solution-oriented. Avoid hedging language.' to CLAUDE.md resolved it immediately and prevented recurrence across 40+ subsequent runs." },
        { q: "Can I measure ROI for AI workflows?", a: "Yes. Track time saved per deliverable, error rates before/after, and stakeholder satisfaction (e.g., revisions requested). Compare baselines to AI-assisted cycles. Use these metrics to justify investment, prioritize automation, and celebrate wins. Practical approach: run a 30-day A/B test. Half your team uses AI chains, half doesn't. Measure time-to-delivery and quality scores. Most firms see 40–60% time savings with equal or higher quality, making the business case self-evident." },
        { q: "What should I do when outputs contradict each other?", a: "Treat contradictions as a governance event. Compare sources, ask Claude to explain reasoning, and test with a smaller, verified data slice. Decide which output stands and record the rationale. Then add a guardrail to prevent the issue recurring. Example: two summaries gave conflicting revenue trends. Root cause: one used Q3 data, one used Q4. Fix: updated `CLAUDE.md` to specify 'Always use most recent quarter unless explicitly stated otherwise.' Contradictions are learning moments that strengthen your system." },
        { q: "How do I keep chains compliant?", a: "Bake guardrails into `CLAUDE.md` (no PII, no dollar amounts in emails) and add an approval checkpoint before external sharing. Keep an audit trail of prompts and diffs. Compliance improves when rules live in the brief and the workflow—not in your memory. Leading firms store CLAUDE.md templates in compliance-approved repositories, version-control changes, and require two-person review for any edits to guardrails. This creates a defensible, auditable AI governance framework." },
        { q: "What if stakeholders resist AI-assisted work?", a: "Lead with outcomes, not tools. Show faster turnarounds, fewer errors, and higher clarity in drafts. Offer side-by-side comparisons and keep a human review stage. Emphasize that AI augments expertise; it doesn't remove accountability. Winning strategy: run a pilot with one low-stakes deliverable. Show the 'before' (manual) and 'after' (AI-assisted) versions side-by-side. Let stakeholders see time savings and quality improvements firsthand. Resistance typically melts when they witness tangible results rather than abstract promises." }
    ];

    const glossaryData = [
        { term: "Automation Chain", desc: "A linked set of Claude Code tasks executed in sequence to produce an end-to-end consulting outcome.", role: "Automation Architect — Designs cross-task systems that compound insight.", figure: "Elon Musk – for demonstrating scalable process automation thinking." },
        { term: "In-Loop Control", desc: "The practice of keeping a human checkpoint inside every AI-driven workflow to approve or adjust outputs.", role: "Governance Lead — Ensures quality gates protect client trust.", figure: "Mary Parker Follett – championed human coordination in systems." },
        { term: "Governance", desc: "Policies that ensure AI use remains ethical, auditable, and aligned with firm and client interests.", role: "Chief Ethics Officer — Sets boundaries that defend reputation.", figure: "Shoshana Zuboff – advocate for responsible digital governance." },
        { term: "Transparency", desc: "Making the AI's logic, data sources, and limitations visible to stakeholders.", role: "Analyst, Client Advisor — Builds trust through clarity.", figure: "Tim Berners-Lee – promoted openness and traceability in digital ecosystems." },
        { term: "Risk Matrix", desc: "A structured table assessing probability and impact of potential project risks identified with AI.", role: "Risk Analyst — Converts uncertainty into actionable plans.", figure: "Nassim Nicholas Taleb – emphasized understanding systemic risk." },
        { term: "Prompt Orchestration", desc: "Coordinating multiple prompts so that context, tone, and objectives stay consistent across tasks.", role: "Prompt Engineer — Crafts repeatable intelligence workflows.", figure: "Cathy O'Neil – advocates transparency in algorithmic design." },
        { term: "Ethical AI", desc: "Applying fairness, privacy, and accountability principles to all AI-assisted decisions.", role: "Ethics Advisor — Protects human values in automation.", figure: "Fei-Fei Li – promotes human-centered AI development." },
        { term: "Context Transfer", desc: "The act of passing relevant context (like client tone or constraints) between chained prompts.", role: "Context Strategist — Maintains coherence across outputs.", figure: "Satya Nadella – known for promoting contextual intelligence in teams." },
        { term: "Roadmap", desc: "A concise plan connecting today's workflow experiments to longer-term AI adoption goals.", role: "Practice Head — Turns pilots into practice standards.", figure: "Peter Drucker – pioneer of strategic management frameworks." },
        { term: "Human-in-the-Loop", desc: "A design principle where people guide, supervise, and correct AI systems rather than fully automating them.", role: "Human Supervisor — Keeps accountability with expertise.", figure: "Kate Crawford – noted scholar on sociotechnical accountability." },
        { term: "Guardrails", desc: "Non-negotiable rules (e.g., no PII, no dollar amounts in emails) that constrain outputs for safety and compliance.", role: "Compliance Partner — Embeds risk controls at every step.", figure: "Helen Nissenbaum – contextual integrity and privacy." },
        { term: "CLAUDE.md", desc: "A project brief (goals, tone, data, guardrails) Claude Code can load to shape outputs when present in the workspace.", role: "Briefing Author — Encodes firm knowledge for reuse.", figure: "Barbara Minto – structured communication thinking." },
        { term: "Approval Modal", desc: "Editor dialog for human-in-the-loop control: review proposed edits, Approve/Reject, then apply to disk.", role: "Change Approver — Guards production with review discipline.", figure: "Donald Knuth – rigor in change review culture." },
        { term: "Diff View", desc: "Inline/side-by-side preview of proposed edits highlighting additions/removals before write.", role: "Reviewer — Spots errors before they ship.", figure: "Linus Torvalds – diff-driven collaboration." },
        { term: "Prompt Injection", desc: "Unintended overrides within prompts or context; mitigated via clear guardrails and careful review.", role: "Security Lead — Prevents malicious input from hijacking logic.", figure: "Bruce Schneier – security mindset." }
    ];

    // --- Flip Card Carousel ---
    function setupFlipCardCarousel() {
        const deck = document.getElementById('carousel-deck');
        const prevBtn = document.getElementById('carousel-prev');
        const nextBtn = document.getElementById('carousel-next');
        const counter = document.getElementById('carousel-counter');
        if (!deck) return;

        deck.innerHTML = automationChainData.map((card, index) => `
            <div class="flip-card" data-index="${index}">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <div class="step-number">${card.emoji} ${card.step}</div>
                        <h4>${card.title}</h4>
                        <p>${card.purpose}</p>
                        <span class="tap-hint">👆 Click to see the prompt</span>
                    </div>
                    <div class="flip-card-back">
                        <button class="copy-btn-card" data-prompt="${card.prompt.replace(/"/g, '&quot;')}">
                            📋 Copy
                        </button>
                        <pre><code>${card.prompt}</code></pre>
                    </div>
                </div>
            </div>
        `).join('');

        const cards = deck.querySelectorAll('.flip-card');
        let currentIndex = 0;

        function showCard(index) {
            cards.forEach((card, i) => {
                card.classList.toggle('active', i === index);
                if (i !== index) card.classList.remove('flipped');
            });
            counter.textContent = `Step ${index + 1} of ${cards.length}`;
        }

        // Flip card on click
        deck.addEventListener('click', (e) => {
            // Don't flip if clicking the copy button
            if (e.target.closest('.copy-btn-card')) {
                e.stopPropagation();
                const btn = e.target.closest('.copy-btn-card');
                const promptText = btn.getAttribute('data-prompt').replace(/&quot;/g, '"');
                navigator.clipboard.writeText(promptText).then(() => {
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '✅ Copied!';
                    setTimeout(() => { btn.innerHTML = originalText; }, 2000);
                });
                return;
            }

            const card = e.target.closest('.flip-card');
            if (card && card.classList.contains('active')) {
                card.classList.toggle('flipped');
            }
        });

        prevBtn.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + cards.length) % cards.length;
            showCard(currentIndex);
        });

        nextBtn.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % cards.length;
            showCard(currentIndex);
        });

        showCard(0);
    }

    // --- Case Study Accordion ---
    function setupCaseStudy() {
        const container = document.getElementById('case-study-accordion');
        if (!container) return;
        container.innerHTML = caseStudyData.map((item, idx) => `
            <div class="accordion-item">
                <button class="accordion-header" role="button" aria-expanded="${idx === 1 ? 'true' : 'false'}" aria-controls="case-content-${idx}">${item.title}</button>
                <div class="accordion-content" id="case-content-${idx}" style="display: ${idx === 1 ? 'block' : 'none'};">${item.content}</div>
            </div>
        `).join('');
        container.addEventListener('click', (e) => {
            const header = e.target.closest('.accordion-header');
            if(header) {
                const expanded = header.getAttribute('aria-expanded') === 'true';
                header.setAttribute('aria-expanded', !expanded);
                header.nextElementSibling.style.display = expanded ? 'none' : 'block';
            }
        });
    }
    
    // --- Redesigned Poll (Oversight Quiz) ---
    function setupOversightQuiz() {
        const container = document.getElementById('oversight-quiz');
        const analysisContainer = document.getElementById('poll-v2-analysis');
        const analysisText = document.getElementById('poll-analysis-text');
        if (!container || !analysisContainer || !analysisText) return;
        
        container.innerHTML = oversightQuizData.options.map((opt, i) => `
            <div class="poll-v2-option">
                <label>
                    <input type="radio" name="oversight" value="${i}"> ${opt.text}
                </label>
            </div>
        `).join('');

        container.addEventListener('change', e => {
            const selectedIndex = parseInt(e.target.value);
            const correctIndex = oversightQuizData.correct;
            
            // Disable all inputs after selection
            container.querySelectorAll('input[type="radio"]').forEach(input => input.disabled = true);
            
            // Remove all previous states
            container.querySelectorAll('.poll-v2-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'wrong');
            });
            
            // Mark selected option
            const selectedOption = e.target.closest('.poll-v2-option');
            selectedOption.classList.add('selected');
            
            // Mark correct/wrong
            if (selectedIndex === correctIndex) {
                selectedOption.classList.add('correct');
                analysisContainer.classList.add('correct-answer');
                analysisContainer.classList.remove('wrong-answer');
                // Show detailed feedback for correct answer
                const feedback = oversightQuizData.options[selectedIndex].detailedFeedback;
                analysisText.innerHTML = `
                    <div style="background: var(--ok-soft); padding: 20px; border-radius: 12px; border-left: 4px solid var(--ok);">
                        <h5 style="color: var(--ok); margin: 0 0 12px 0; font-size: 1.1rem;">✅ Excellent Choice!</h5>
                        <p style="margin: 0 0 16px 0; font-weight: 500;">${oversightQuizData.options[selectedIndex].analysis}</p>
                        <div style="background: white; padding: 16px; border-radius: 8px; margin: 12px 0;">
                            <h6 style="margin: 0 0 8px 0; color: var(--text); font-size: 0.95rem;">🎯 Why This Requires Human Judgment:</h6>
                            <p style="margin: 0 0 12px 0; font-size: 0.9rem;">${feedback.whyBest}</p>
                            <div style="display: flex; gap: 16px; margin: 12px 0;">
                                <div style="flex: 1;">
                                    <strong style="color: var(--text); font-size: 0.85rem;">Automation Level:</strong><br>
                                    <span style="font-size: 0.9rem;">${feedback.automationLevel}</span>
                                </div>
                                <div style="flex: 1;">
                                    <strong style="color: var(--text); font-size: 0.85rem;">Your Role:</strong><br>
                                    <span style="font-size: 0.9rem;">${feedback.humanRole}</span>
                                </div>
                            </div>
                            <div style="background: var(--muted); padding: 12px; border-radius: 6px; margin-top: 12px;">
                                <strong style="color: var(--text); font-size: 0.85rem;">💡 Real Example:</strong><br>
                                <span style="font-size: 0.9rem; font-style: italic;">${feedback.example}</span>
                            </div>
                        </div>
                        <p style="margin: 16px 0 0 0; padding-top: 16px; border-top: 1px dashed var(--ok); font-style: italic; color: var(--ok);">
                            <strong>💡 Strategic Insight:</strong> This is where your consulting expertise creates irreplaceable value. AI provides the data; you provide the wisdom.
                        </p>
                    </div>
                `;
            } else {
                selectedOption.classList.add('wrong');
                // Also highlight the correct answer
                const correctOption = container.querySelectorAll('.poll-v2-option')[correctIndex];
                if (correctOption) correctOption.classList.add('correct');
                analysisContainer.classList.add('wrong-answer');
                analysisContainer.classList.remove('correct-answer');
                // Show detailed feedback for wrong answer
                const feedback = oversightQuizData.options[selectedIndex].detailedFeedback;
                const correctFeedback = oversightQuizData.options[correctIndex].detailedFeedback;
                analysisText.innerHTML = `
                    <div style="background: var(--bad-soft); padding: 20px; border-radius: 12px; border-left: 4px solid var(--bad);">
                        <h5 style="color: var(--bad); margin: 0 0 12px 0; font-size: 1.1rem;">🤔 Let's Think About This...</h5>
                        <p style="margin: 0 0 16px 0; font-weight: 500;">${oversightQuizData.options[selectedIndex].analysis}</p>
                        <div style="background: white; padding: 16px; border-radius: 8px; margin: 12px 0;">
                            <h6 style="margin: 0 0 8px 0; color: var(--text); font-size: 0.95rem;">📊 Why This Option:</h6>
                            <p style="margin: 0 0 12px 0; font-size: 0.9rem;">${feedback.whyNotBest}</p>
                            <div style="display: flex; gap: 16px; margin: 12px 0;">
                                <div style="flex: 1;">
                                    <strong style="color: var(--text); font-size: 0.85rem;">Automation Level:</strong><br>
                                    <span style="font-size: 0.9rem;">${feedback.automationLevel}</span>
                                </div>
                                <div style="flex: 1;">
                                    <strong style="color: var(--text); font-size: 0.85rem;">Your Role:</strong><br>
                                    <span style="font-size: 0.9rem;">${feedback.humanRole}</span>
                                </div>
                            </div>
                            <div style="background: var(--muted); padding: 12px; border-radius: 6px; margin-top: 12px;">
                                <strong style="color: var(--text); font-size: 0.85rem;">💡 Example:</strong><br>
                                <span style="font-size: 0.9rem; font-style: italic;">${feedback.example}</span>
                            </div>
                        </div>
                        <div style="background: var(--ok-soft); padding: 16px; border-radius: 8px; margin: 16px 0; border-left: 4px solid var(--ok);">
                            <h6 style="margin: 0 0 8px 0; color: var(--ok); font-size: 0.95rem;">🎯 The Better Choice: Risk Classification</h6>
                            <p style="margin: 0 0 12px 0; font-size: 0.9rem;">${correctFeedback.whyBest}</p>
                            <div style="display: flex; gap: 16px; margin: 12px 0;">
                                <div style="flex: 1;">
                                    <strong style="color: var(--ok); font-size: 0.85rem;">Automation Level:</strong><br>
                                    <span style="font-size: 0.9rem;">${correctFeedback.automationLevel}</span>
                                </div>
                                <div style="flex: 1;">
                                    <strong style="color: var(--ok); font-size: 0.85rem;">Your Strategic Value:</strong><br>
                                    <span style="font-size: 0.9rem;">${correctFeedback.humanRole}</span>
                                </div>
                            </div>
                            <div style="background: white; padding: 12px; border-radius: 6px; margin-top: 12px;">
                                <strong style="color: var(--ok); font-size: 0.85rem;">💡 Key Insight:</strong><br>
                                <span style="font-size: 0.9rem; font-style: italic;">${correctFeedback.example}</span>
                            </div>
                        </div>
                        <p style="margin: 16px 0 0 0; padding-top: 16px; border-top: 1px dashed var(--bad); font-style: italic; color: #495057;">
                            <strong>💡 Learning Moment:</strong> The goal is to identify where human judgment adds irreplaceable value. Data analysis can be automated; strategic interpretation cannot.
                        </p>
                    </div>
                `;
            }

            analysisContainer.style.display = 'block';
        });
    }
    
    // --- Roadmap Builder with Templates & Validation ---
    function setupRoadmapBuilder() {
        const form = document.getElementById('roadmap-form');
        const confirmation = document.getElementById('roadmap-confirmation');
        const previewModal = document.getElementById('preview-modal');
        const previewContent = document.getElementById('preview-content');
        const previewBtn = document.getElementById('preview-btn');
        const downloadBtn = document.getElementById('download-btn');
        
        if (!form) return;

        // Template data
        const templates = {
            problem: {
                '#01': 'Manually creating weekly client status reports from scattered project notes, emails, and meeting transcripts—takes 2-3 hours per client per week.',
                '#02': 'Analyzing quarterly financial data from 20+ clients to identify trends and generate insights—currently requires 6-8 hours of manual spreadsheet work.',
                '#03': 'Summarizing client meetings and action items from recording transcripts—spends 45 minutes per meeting on manual note-taking and formatting.',
                '#04': 'Drafting personalized follow-up emails to 30+ clients each month after portfolio reviews—consumes 1-2 hours daily.',
                '#05': 'Creating compliance documentation for audit trails and regulatory reporting—involves copying data across 5 systems manually.'
            },
            automation: {
                '#01': '1. Claude analyzes all input sources (notes, emails, transcripts) and extracts key decisions, blockers, and progress metrics.\n2. Claude drafts a structured summary with sections: Wins This Week, Concerns to Address, Next Steps.\n3. Claude formats the output as a professional Markdown email template with personalized greeting.',
                '#02': '1. Claude processes CSV/Excel data to calculate YoY trends, identify outliers, and flag risk indicators.\n2. Claude generates narrative insights explaining "what changed" and "why it matters" for each client.\n3. Claude creates executive summary bullets ranking top performers and at-risk clients.',
                '#03': '1. Claude parses meeting transcript to extract: decisions made, action items assigned, deadlines committed.\n2. Claude organizes content into structured sections: Key Outcomes, Your Action Items, Client Commitments.\n3. Claude generates a follow-up email draft thanking the client and confirming next steps.',
                '#04': '1. Claude retrieves client-specific context from CLAUDE.md (relationship history, preferences, recent changes).\n2. Claude drafts personalized email highlighting relevant portfolio performance and strategic recommendations.\n3. Claude adjusts tone based on client segment (high-touch vs. scalable) and includes call-to-action.',
                '#05': '1. Claude extracts required data fields from source systems and formats them per compliance template.\n2. Claude cross-references entries for consistency and flags any missing or anomalous data.\n3. Claude generates audit-ready documentation with timestamps, sources, and validation notes.'
            },
            risks: {
                '#01': 'Risk: Claude might misinterpret technical jargon or miss context from prior conversations. Guardrail: I will cross-check all metrics and key facts against source documents before sending.',
                '#02': 'Risk: Claude could use inappropriate tone (too casual/formal) or miss relationship sensitivities. Guardrail: All client-facing content goes through my manual review for tone, empathy, and strategic framing.',
                '#03': 'Risk: Claude might expose confidential client data if prompts aren\'t carefully designed. Guardrail: All data will be anonymized in practice runs; CLAUDE.md includes "never disclose PII" rule.',
                '#04': 'Risk: Claude may misinterpret ambiguous language or make logical leaps not supported by data. Guardrail: I will validate all "insights" and "recommendations" against my own analysis.',
                '#05': 'Risk: Automated reports might contain errors that compound if not caught early. Guardrail: First 10 outputs will be manually audited line-by-line; error rate tracked monthly.'
            },
            checkpoints: {
                '#01': 'I will personally review every draft for: (1) Strategic framing aligned with client goals, (2) Accuracy of all numbers and facts, (3) Relationship-appropriate tone and sensitivity.',
                '#02': 'Before sending, I verify: (1) Client name/details are correct, (2) Recommendations reflect my professional judgment, not generic advice, (3) Tone matches our relationship stage.',
                '#03': 'My checkpoint: (1) Confirm all compliance fields are complete and accurate, (2) Verify no PII or sensitive data is exposed, (3) Ensure audit trail is defensible.',
                '#04': 'I review for: (1) Does this sound like ME (not generic AI)? (2) Is it actionable and client-specific? (3) Would I be comfortable defending this advice to their board?',
                '#05': 'Final quality gate: (1) Read the full output as if I were the client—does it feel personal and valuable? (2) Check for any red flags (errors, tone issues, missing context). (3) Approve or iterate.'
            },
            goal: {
                '#01': 'By March 31st, I will use this automation chain to generate first drafts for 5 client reports, reducing my drafting time from 2 hours to 45 minutes per report (62% time savings). Success metric: Client feedback scores remain ≥4.5/5.',
                '#02': 'Within 30 days, I will automate data analysis for 10 clients, cutting analysis time from 6 hours to 2 hours per quarter. Success metric: Insights accuracy validated at 95%+ by spot-checking 3 clients.',
                '#03': 'By end of Q1, I will use this chain for 8 client meetings, reducing post-meeting admin time from 45 min to 15 min per meeting. Success metric: Zero action items missed or misrepresented.',
                '#04': 'In the next 30 days, I will draft 20 personalized follow-up emails using this workflow, saving 10 hours total. Success metric: Email open rates stay above 70%, reply rates above 30%.',
                '#05': 'By March 15th, I will automate compliance doc generation for 3 audit cycles, reducing prep time from 8 hours to 3 hours per cycle. Success metric: Zero compliance findings or documentation gaps.'
            }
        };
        
        // Setup template selectors
        ['problem', 'automation', 'risks', 'checkpoints', 'goal'].forEach(field => {
            const selector = document.getElementById(`template-${field}`);
            const textarea = document.getElementById(`roadmap-${field}`);
            if (selector && textarea) {
                selector.addEventListener('change', (e) => {
                    const templateKey = e.target.value;
                    if (templateKey && templates[field][templateKey]) {
                        textarea.value = templates[field][templateKey];
                        updateCharCount(field);
                        validateForm();
                    }
                });
            }
        });
        
        // Character counting
        function updateCharCount(field) {
            const textarea = document.getElementById(`roadmap-${field}`);
            const counter = document.getElementById(`${field}-count`);
            if (textarea && counter) {
                const count = textarea.value.trim().length;
                counter.textContent = count;
                counter.style.color = count >= (field === 'automation' ? 50 : 30) ? 'var(--ok)' : 'var(--bad)';
            }
        }
        
        // Real-time character counting
        ['problem', 'automation', 'risks', 'checkpoints', 'goal'].forEach(field => {
            const textarea = document.getElementById(`roadmap-${field}`);
            if (textarea) {
                textarea.addEventListener('input', () => {
                    updateCharCount(field);
                    validateForm();
                });
            }
        });
        
        // Form validation
        function validateForm() {
            const problem = document.getElementById('roadmap-problem').value.trim();
            const automation = document.getElementById('roadmap-automation').value.trim();
            const risks = document.getElementById('roadmap-risks').value.trim();
            const checkpoints = document.getElementById('roadmap-checkpoints').value.trim();
            const goal = document.getElementById('roadmap-goal').value.trim();
            
            const isValid = 
                problem.length >= 30 &&
                automation.length >= 50 &&
                risks.length >= 30 &&
                checkpoints.length >= 30 &&
                goal.length >= 30;
            
            previewBtn.disabled = !isValid;
            if (isValid) {
                previewBtn.style.opacity = '1';
                previewBtn.style.cursor = 'pointer';
            } else {
                previewBtn.style.opacity = '0.5';
                previewBtn.style.cursor = 'not-allowed';
            }
        }
        
        // Preview button
        previewBtn.addEventListener('click', () => {
            const problem = document.getElementById('roadmap-problem').value.trim();
            const automation = document.getElementById('roadmap-automation').value.trim();
            const risks = document.getElementById('roadmap-risks').value.trim();
            const checkpoints = document.getElementById('roadmap-checkpoints').value.trim();
            const goal = document.getElementById('roadmap-goal').value.trim();
            
            const markdown = `# My AI Practice Roadmap

## 1. Problem to Solve
${problem}

## 2. Automation Opportunity (First 3 Steps)
${automation}

## 3. Risks & Governance Guardrails
${risks}

## 4. My Irreplaceable Human Checkpoint
${checkpoints}

## 5. My Concrete 30-Day Goal
${goal}

---
*Generated: ${new Date().toLocaleDateString()}*
*This roadmap is my commitment to AI-native consulting excellence.*`;
            
            previewContent.textContent = markdown;
            previewModal.classList.add('show');
            downloadBtn.disabled = false;
            downloadBtn.style.opacity = '1';
        });
        
        // Form submission (actual download)
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            approveAndDownload();
        });
        
        // Global functions for modal
        window.closePreviewModal = function() {
            previewModal.classList.remove('show');
        };
        
        window.approveAndDownload = function() {
            const markdown = previewContent.textContent;
            const filename = 'AI_Roadmap.md';
            
            // Trigger download
            const blob = new Blob([markdown], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            // Detect OS and show appropriate download location
            const userAgent = navigator.userAgent || navigator.platform;
            const isMac = /Mac|iPhone|iPad|iPod/.test(userAgent);
            const isWindows = /Win/.test(userAgent);
            const isLinux = /Linux/.test(userAgent);
            
            let downloadPath = 'your Downloads folder';
            let osIcon = '💾';
            
            if (isWindows) {
                downloadPath = 'C:\\Users\\[YourUsername]\\Downloads\\';
                osIcon = '🪟';
            } else if (isMac) {
                downloadPath = '~/Downloads/ (or use Cmd+J in Chrome/Cmd+Shift+L in Safari to view downloads)';
                osIcon = '🍎';
            } else if (isLinux) {
                downloadPath = '~/Downloads/';
                osIcon = '🐧';
            }
            
            // Close modal and show confirmation
            previewModal.classList.remove('show');
            confirmation.style.display = 'block';
            form.style.display = 'none';
            
            // Show detailed toast notification for 10 seconds
            showToastLong(
                `${osIcon} <strong>${filename}</strong> downloaded successfully!<br>` +
                `<span style="font-size: 0.9rem; opacity: 0.9;">📂 Location: <code style="background: rgba(255,255,255,0.2); padding: 2px 6px; border-radius: 3px;">${downloadPath}</code></span>`,
                'success',
                10000
            );
        };
        
        // Extended toast notification function for longer messages
        function showToastLong(message, type = 'info', duration = 10000) {
            const colors = {
                success: 'var(--success)',
                error: 'var(--error)',
                warning: 'var(--warning)',
                info: 'var(--info)'
            };
            
            const toast = document.createElement('div');
            toast.innerHTML = message;
            toast.style.cssText = `
                position: fixed;
                bottom: 30px;
                right: 30px;
                background: ${colors[type] || colors.info};
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                box-shadow: 0 8px 24px rgba(0,0,0,0.3);
                z-index: 10000;
                max-width: 450px;
                font-size: 0.95rem;
                line-height: 1.5;
                animation: slideIn 0.4s ease-out;
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.4s ease-in';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 400);
            }, duration);
        }
        
        // Initial validation
        validateForm();
    }

    // --- Final Badge & Bridge Animation on Scroll ---
    function setupScrollAnimations() {
        const elementsToAnimate = [
            document.getElementById('final-badge'),
            document.getElementById('final-bridge')
        ];
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    if(entry.target.id === 'final-badge') {
                        entry.target.classList.add('unlocked');
                    } else if(entry.target.id === 'final-bridge') {
                        entry.target.classList.add('visible');
                    }
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });

        elementsToAnimate.forEach(el => {
            if (el) observer.observe(el);
        });
    }
    
    // --- Toast Notification System ---
    function showToast(message, type = "info") {
        const toast = document.createElement("div");
        const colors = {
            info: { bg: "var(--info)", text: "white" },
            success: { bg: "var(--success)", text: "white" },
            error: { bg: "var(--error)", text: "white" },
            warning: { bg: "var(--warning)", text: "white" }
        };
        const color = colors[type] || colors.info;
        
        toast.style.cssText = `
            position: fixed; top: 20px; right: 20px; z-index: 10001;
            background: ${color.bg}; color: ${color.text};
            padding: 16px 24px; border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
            font-size: 0.95rem; font-weight: 500;
            max-width: 400px; animation: slideIn 0.3s ease-out;
        `;
        toast.textContent = message;
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.style.animation = "slideOut 0.3s ease-in";
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }
    
    // Add animation keyframes
    if (!document.querySelector("#toast-animations")) {
        const style = document.createElement("style");
        style.id = "toast-animations";
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(400px); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(400px); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    }
    
    // --- RTC Knowledge Check removed per consolidation request ---
    /* (function setupRTCQuiz(){
        const quizContainer = document.getElementById("rtc-quiz");
        if(!quizContainer) return;
        const rtcScenario = {
            title: "Scenario: SilverPath Wealth Advisors - Quarterly Risk Analysis Automation",
            passage: `SilverPath Wealth Advisors is a boutique financial consulting firm serving 80+ high-net-worth clients. The managing partner, Elena Rodriguez, has been manually preparing quarterly risk analysis reports for each client—a process that takes her team 120+ hours every quarter. Each report requires: (1) analyzing current portfolio data from their CSV exports, (2) calculating risk metrics (volatility, Sharpe ratios, sector exposure), (3) classifying clients into risk categories (Conservative, Moderate, Aggressive), (4) drafting personalized email summaries with actionable recommendations, and (5) creating executive dashboards for the quarterly board review.

Elena decides to pilot an AI-powered automation chain using Claude Code. She assigns her senior analyst, Marcus Chen, to design the workflow. Marcus creates a comprehensive CLAUDE.md file with the following sections:

**Context:** "We're a boutique wealth advisory firm. Our clients are 45–70 years old, mostly retired executives and business owners. They value clarity, conservatism, and relationship trust over aggressive growth."

**Tone & Style:** "All client communications must be formal, reassuring, and jargon-free. Use 'Dear [Client Name]' salutations, avoid abbreviations like 'YoY' or 'ROI' without explanation, and never use casual phrases like 'Hey' or 'Cheers.' Frame recommendations positively, even when discussing risk."

**Data Sources:** "/data/Q4_client_portfolios.csv contains columns: ClientID, Name, TotalValue, EquityPct, BondPct, CashPct, MonthlyVolatility, YTD_Return."

**Guardrails:** "Never disclose exact dollar amounts in client emails—use percentage changes only (e.g., 'Your portfolio grew 8% this quarter'). Never recommend specific securities or timing ('Buy XYZ stock now')—only strategic allocation guidance ('Consider increasing bond exposure'). All risk classifications must be reviewed by a human before communication."

**Output Standards:** "Risk emails should be 150–200 words, include exactly 3 bullet points (portfolio health, key risks, one actionable recommendation), and end with an offer to schedule a call."

Marcus builds a 4-step automation chain and tests it on 5 sample clients. Four outputs are excellent—professional, accurate, and perfectly formatted. But one email for Client #3 (a retiree with $2.3M in assets) includes the phrase "Your $2.3M portfolio" and suggests "Consider selling your tech stocks soon to lock in gains"—two explicit violations of Elena's guardrails. Marcus is puzzled. He re-checks his CLAUDE.md and confirms the guardrails are clearly written. He wonders if the issue is with how Claude interprets "strategic guidance" vs. "specific recommendations," or whether he needs to add examples of prohibited phrasing to make the rules more concrete.

Elena reviews the outputs and agrees the system has potential, but she's concerned about governance. She asks Marcus: "How do we ensure every email goes through human review before it's sent? And how do we measure whether this automation actually improves quality and saves time—not just speed things up while introducing new risks?" Marcus proposes: (1) adding a mandatory "Human Checkpoint" step between email generation and client delivery, (2) creating a checklist of 5 quality criteria (tone, accuracy, compliance, personalization, actionable value), and (3) tracking two key metrics for the first quarter: time saved per report and error rate (guardrail violations caught during review).

Elena approves the plan but adds one more requirement: "Document this entire workflow—the CLAUDE.md, the chain design, the checkpoint process, and the evaluation framework—as a reusable template for our AI Practice Library. If this works, I want every consultant in the firm to be able to replicate it for their own client segments."`,
            questions: [
                {
                    type: "MCQ",
                    question: "Why did Marcus's guardrail fail to prevent the phrase 'Your $2.3M portfolio' from appearing in the client email?",
                    options: [
                        "Claude Code doesn't support numerical guardrails in CLAUDE.md files",
                        "The guardrail said 'Never disclose exact dollar amounts' but didn't define what counts as 'disclosure' vs. 'reference'",
                        "Marcus forgot to include the guardrail in the CLAUDE.md file",
                        "The CSV data didn't include dollar amounts, so Claude generated them randomly"
                    ],
                    correct: 1,
                    explanation: {
                        whyCorrect: "Option B is exactly right. Marcus's guardrail was **semantically ambiguous**. It said 'Never disclose exact dollar amounts in client emails—use percentage changes only,' but the word 'disclose' is open to interpretation. Claude may have interpreted 'Your $2.3M portfolio' as a **contextual reference** (acknowledging the client's known portfolio size) rather than a **disclosure** (revealing new financial information). This is a classic case of **semantic loopholes** in AI instructions. Words like 'disclose,' 'reveal,' 'share,' and 'mention' have overlapping but distinct meanings. A better guardrail would be: 'Never include any dollar amounts ($X or $X.XM) in client emails under any circumstances—use percentage changes and qualitative descriptions only.' This eliminates ambiguity by being **prescriptively specific** rather than **conceptually vague**.",
                        whyWrong: {
                            0: "Wrong. Claude Code fully supports numerical guardrails—you can prohibit dollar amounts, percentages, dates, or any data type. The issue here isn't technical capability, but **linguistic precision**. The guardrail's wording left room for interpretation.",
                            2: "Wrong. The passage explicitly states Marcus 're-checks his CLAUDE.md and confirms the guardrails are clearly written.' The file contained the rule—it just wasn't specific enough to prevent this edge case.",
                            3: "Wrong. The CSV contains TotalValue, which Claude used to generate the $2.3M figure. The problem isn't data availability, but **rule enforcement**—Claude had the number and didn't know it was prohibited to use it in this context."
                        },
                        connectConcept: "In CLAUDE.md design, **precision beats brevity**. Guardrails must cover edge cases and semantic variations. AI interprets words literally—what YOU mean by 'disclose' vs. 'mention' may differ from how Claude parses context. Always test guardrails with adversarial prompts: 'Can I say this phrase? What about this one?' to find loopholes before production use.",
                        proTip: "When debugging why AI ignored instructions, always check for **semantic loopholes** first. Create a 'Prohibited Phrases' section in your CLAUDE.md with explicit examples: 'Never write: $X, $X.XM, dollar amounts, account balances.' This eliminates interpretation and makes violations binary (yes/no) rather than subjective."
                    }
                },
                {
                    type: "FTB",
                    question: "The principle that guardrails should eliminate all possible interpretations of prohibited content, not just literal matches, is called ensuring _______ coverage.",
                    correct: "semantic",
                    alternates: ["semantics", "linguistic", "interpretation", "contextual"],
                    explanation: {
                        whyCorrect: "**Semantic coverage** means your guardrails account for all the ways a concept can be expressed, not just one specific phrasing. Marcus's guardrail said 'Never disclose exact dollar amounts,' but it didn't cover **synonyms** (mention, reference, state) or **formats** ($2.3M vs. 2.3 million dollars vs. two point three million). Semantic coverage requires thinking like a lawyer: 'How could someone follow the letter of this rule while violating its spirit?' In CLAUDE.md design, this means: (1) using **absolute prohibitions** ('Never include dollar amounts in ANY form'), (2) providing **explicit examples** of prohibited patterns, and (3) testing with **edge cases** to find loopholes. This concept applies to all AI governance: if you say 'be professional,' Claude needs examples of what 'unprofessional' looks like ('Hey!', 'URGENT!!!', casual slang) to understand the boundary.",
                        connectConcept: "Semantic coverage is the difference between **rules lawyers follow** and **rules AI follows**. Humans understand intent and context; AI interprets literal instructions. Your CLAUDE.md must be as precise as a legal contract—every word matters, every loophole will be found. Think of it as 'defensive documentation': assume Claude will test every boundary, so make boundaries explicit and unambiguous.",
                        proTip: "After writing a guardrail, play 'devil's advocate': Generate 5 ways to violate the SPIRIT of the rule while following its LETTER. If you find loopholes, rewrite the guardrail to close them. Example: 'No dollar amounts' → Can I say '$X'? '2.3M'? 'two million'? 'large sum'? Rewrite: 'Never include numeric values, abbreviations ($), or written numbers related to money. Use percentage changes only.'"
                    }
                },
                {
                    type: "MCQ",
                    question: "Marcus proposes adding a 'Human Checkpoint' step. What is the PRIMARY governance benefit of this?",
                    options: [
                        "It allows Marcus to blame the AI if something goes wrong",
                        "It creates a formal moment where a human takes accountability for the output before it reaches the client",
                        "It slows down the process to justify consultant fees",
                        "It ensures every output is identical across all clients"
                    ],
                    correct: 1,
                    explanation: {
                        whyCorrect: "Option B captures the essence of **human-in-the-loop governance**. The checkpoint isn't about distrust—it's about **accountability**. When Marcus reviews the AI draft against the 5-item checklist (tone, accuracy, compliance, personalization, actionable value), he's not just catching errors—he's **taking professional responsibility** for that communication. This is the difference between 'Claude sent an email' and 'I, Marcus, reviewed and approved this email that Claude drafted.' In high-stakes, client-facing work, accountability can't be delegated to AI. The checkpoint formalizes where human judgment enters the loop, creates an audit trail ('Who approved this?'), and protects both the consultant and the client. It's not a bureaucratic step—it's a **governance control** that preserves trust.",
                        whyWrong: {
                            0: "Wrong—and dangerous. Blame-shifting destroys professional credibility. The checkpoint exists so Marcus can PREVENT errors, not deflect responsibility after they occur. As a consultant, your signature (literal or metaphorical) on AI outputs means you OWN them.",
                            2: "Wrong. The goal is efficiency WITH quality, not artificial delays. A well-designed checkpoint takes 2–3 minutes and catches 90% of issues. That's value, not waste. Clients pay for judgment and accuracy, not time spent.",
                            3: "Wrong. Standardization and customization aren't opposites—they're complements. The checkpoint ensures QUALITY standards (tone, compliance) are met while allowing CONTENT customization (personalization per client). The checklist is the standard; the application is contextual."
                        },
                        connectConcept: "**Human checkpoints are governance, not gatekeeping.** They exist to answer: 'If this output causes harm, who is accountable?' In AI-native consulting, the answer must always be: 'The human consultant.' Checkpoints formalize that accountability, protect clients, and preserve your professional reputation. Think of them as quality gates in manufacturing—not bottlenecks, but essential control points.",
                        proTip: "Design your checkpoint checklist to be **fast but rigorous**. Each item should be binary (yes/no) and take <30 seconds to verify. Example: ✓ No dollar amounts? ✓ Formal salutation? ✓ 3 bullet points? ✓ Call-to-action? ✓ Client name correct? Five checks, 2 minutes total, maximum protection."
                    }
                },
                {
                    type: "SAQ",
                    question: "Marcus needs to fix the guardrail violation where Claude suggested 'Consider selling your tech stocks soon to lock in gains.' Describe TWO specific changes he should make to the CLAUDE.md Guardrails section to prevent this type of specific recommendation in the future.",
                    sampleAnswer: "1. Add explicit prohibited patterns: 'Never recommend specific actions with timing (e.g., \"sell soon,\" \"buy now,\" \"wait until\"). Only provide strategic direction (\"consider rebalancing,\" \"explore diversification\").' 2. Include a contrast table showing prohibited vs. approved phrasing: PROHIBITED: 'Sell your tech stocks' → APPROVED: 'Review your technology sector exposure for alignment with risk tolerance.'",
                    guidancePoints: [
                        "Explicit prohibitions with examples (specific vs. strategic)",
                        "Timing-related phrases to avoid ('soon', 'now', 'immediately')",
                        "Action verbs requiring qualification ('consider', 'explore', 'review' vs. 'sell', 'buy', 'hold')",
                        "Contrast examples (what NOT to say vs. what TO say)"
                    ],
                    explanation: {
                        whyCorrect: "This answer demonstrates understanding of **prescriptive vs. proscriptive guardrails**. The original guardrail said 'Never recommend specific securities or timing—only strategic allocation guidance,' but it didn't DEFINE what counts as 'specific' vs. 'strategic.' By adding (1) prohibited timing phrases ('soon', 'now') and (2) contrast examples, Marcus eliminates interpretation. Claude can now check: 'Does my recommendation include a timing word? Does it use action verbs without qualification?' This is **operational specificity**—turning conceptual rules ('be strategic') into checkable patterns ('never use these 10 words'). The contrast table is especially powerful because it TEACHES by example, not just by prohibition.",
                        connectConcept: "**Guardrails must be testable.** If you can't write a simple algorithm to check compliance, the guardrail is too vague. 'No specific recommendations' → How do I test that? But 'No timing words (soon, now, immediately)' → I can search for those. 'No action verbs without softening (consider, explore)' → I can check structure. Make your guardrails as concrete as code: binary, checkable, unambiguous. This is the principle of **executable documentation**—rules you could (theoretically) automate checking for.",
                        proTip: "Create a 'Do/Don't Table' in your CLAUDE.md for high-risk communication areas. Example: 'Client Investment Advice | DON'T: Sell XYZ, Buy ABC, Wait for market drop | DO: Consider rebalancing, Explore alternatives, Review exposure.' Claude learns from contrasts better than from abstract rules. Three good examples beat one perfect definition."
                    }
                },
                {
                    type: "MCQ",
                    question: "Elena asks Marcus to document the workflow as a reusable template for the AI Practice Library. What is the STRATEGIC benefit of this for Silver Path Advisors?",
                    options: [
                        "It transforms Marcus's individual expertise into institutional knowledge that any consultant can leverage",
                        "It allows the firm to replace senior consultants with junior staff",
                        "It ensures every client receives identical outputs regardless of their situation",
                        "It eliminates the need for ongoing CLAUDE.md maintenance"
                    ],
                    correct: 0,
                    explanation: {
                        whyCorrect: "Option A identifies the core value of an **AI Practice Library**: **scaling expertise without diluting quality**. Marcus spent significant time developing the CLAUDE.md, designing the automation chain, creating the checkpoint checklist, and defining evaluation metrics. If this knowledge stays in his head (or his local files), it's **tribal knowledge**—valuable but fragile. But by documenting it as a template, the firm achieves: (1) **knowledge permanence** (even if Marcus leaves, the workflow survives), (2) **faster onboarding** (new consultants can replicate proven workflows in hours, not months), (3) **consistency at scale** (10 consultants using the same template produce predictably high-quality outputs), and (4) **continuous improvement** (the team can collectively refine the template based on feedback). This is the shift from **individual craftsmanship** to **institutional capability**—the hallmark of mature AI-native organizations.",
                        whyWrong: {
                            1: "Wrong—and dangerous. Templates don't replace judgment; they amplify it. Junior consultants can use Marcus's template to PRODUCE drafts, but they still need senior oversight for client relationships, strategic decisions, and edge cases. The template scales execution, not expertise.",
                            2: "Wrong. Templates provide STRUCTURE (tone rules, guardrails, format), not content. Each client's email should be CUSTOMIZED (personalized recommendations, risk profile, relationship context). The template ensures consistency in HOW you communicate, not WHAT you communicate.",
                            3: "Wrong. CLAUDE.md is a living document. As regulations change, client preferences evolve, and new edge cases emerge, the template must be updated. The Practice Library should include a 'Version History' and 'Last Reviewed' date to ensure templates don't become stale. Think of it as documentation that requires maintenance, like code."
                        },
                        connectConcept: "**AI Practice Libraries turn soloists into orchestras.** In traditional consulting, expertise is personal—'Maria knows how to do risk analysis.' In AI-native firms, expertise is documented—'We have a validated risk analysis workflow that anyone can execute.' This doesn't commoditize consulting; it ELEVATES it. Consultants spend less time on mechanics (drafting, formatting) and more on strategy (interpretation, relationships, governance). The library scales the routine so humans can focus on the exceptional.",
                        proTip: "When building your own AI Practice Library, use this structure: (1) **Template Name** (clear, descriptive), (2) **Use Case** (when to use it), (3) **Prerequisites** (what data/context you need), (4) **CLAUDE.md** (copy-paste ready), (5) **Sample Prompts** (chain steps), (6) **Checkpoint Checklist** (quality gates), (7) **Success Metrics** (how to evaluate), (8) **Known Limitations** (edge cases). This makes templates immediately actionable for your team."
                    }
                },
                {
                    type: "LAQ",
                    question: "Elena asks Marcus: 'How do we measure whether this automation actually improves quality and saves time—not just speed things up while introducing new risks?' Design a comprehensive evaluation framework for the first quarter (Q1 2025) with: (a) TWO quantitative efficiency metrics, (b) TWO qualitative quality metrics, and (c) ONE risk indicator to monitor.",
                    sampleAnswer: "(a) Quantitative Efficiency: (1) Time Savings Per Report: Track hours spent manually (before) vs. with AI chain (after) for quarterly risk reports. Target: 60% reduction (from ~90 minutes/report to ~35 minutes). (2) Consultant Capacity: Measure how many clients each consultant can serve per quarter. Target: 25% increase (from 20 clients to 25 clients). (b) Qualitative Quality: (1) Client Satisfaction: Survey clients on report clarity, actionability, and perceived personalization (scale 1-10). Target: maintain or improve (≥8.5/10). (2) Consultant Confidence: Internal survey on workflow usability, trust in AI outputs, and stress levels. Target: ≥4/5 confidence rating. (c) Risk Indicator: Guardrail Violation Rate: Count how many emails fail the 5-item checkpoint review per 100 generated. Target: <5 violations per 100 emails (95% clean draft rate).",
                    guidancePoints: [
                        "Quantitative efficiency: time per task, cost per output, throughput (clients served), cycle time reduction",
                        "Qualitative quality: client satisfaction (surveys), consultant confidence (internal feedback), peer review scores, output professionalism perception",
                        "Risk indicators: error rate (guardrail violations), manual override frequency, compliance failures, client complaints",
                        "Baseline comparison: measure 'before AI' metrics first, then track 'with AI' for apples-to-apples comparison",
                        "Targets should be specific, measurable, and time-bound (SMART criteria)"
                    ],
                    explanation: {
                        whyCorrect: "This answer demonstrates understanding of the **AI Governance Measurement Triad**: (1) **Efficiency** (Are we saving time/money?), (2) **Quality** (Are outputs better or at least as good?), and (3) **Risk** (Are we introducing new problems?). Notice the answer doesn't just list metrics—it specifies HOW to measure them (surveys, time tracking, violation counts) and sets concrete TARGETS (60% reduction, ≥8.5/10, <5%). This makes evaluation actionable, not aspirational. The choice of metrics is also strategic: quantitative metrics prove ROI to leadership ('We saved 60 hours/week'), qualitative metrics protect client relationships ('Satisfaction stayed high'), and risk indicators catch problems early ('We're catching 95% of issues before they reach clients'). This framework turns AI adoption from a leap of faith into a monitored, improvable system.",
                        connectConcept: "**What gets measured gets managed; what gets managed gets improved.** Without metrics, AI adoption is based on feelings ('This seems faster'). With metrics, it's based on evidence ('This IS 60% faster, AND quality improved'). But metrics alone aren't enough—you need: (1) **Baselines** (measure the old way first), (2) **Targets** (define success upfront), (3) **Frequency** (check monthly, not just at year-end), and (4) **Action Triggers** (if error rate exceeds 10%, we pause and audit). This is the difference between **measurement theater** (collecting data no one acts on) and **evidence-based governance** (data that drives decisions).",
                        proTip: "Start measurement BEFORE you deploy AI at scale. Track your first 10 projects manually in a spreadsheet: Date | Client | Time Spent | Guardrail Violations | Client Feedback | Notes. Patterns emerge fast. After 10 projects, you'll know: (1) whether time savings are real, (2) where errors cluster (certain client types? specific steps?), and (3) what to improve in your CLAUDE.md. This is low-cost, high-signal validation. Don't wait for perfect metrics—start with 'good enough' and refine as you learn."
                    }
                }
            ]
        };

        // Rendering logic inline
        let currentQuestion = 0;
        let answers = {};
        let score = 0;
        
        function showScenario() {
            quizContainer.innerHTML = `
                <div class="rtc-scenario">
                    <h3>${rtcScenario.title}</h3>
                    <p>${rtcScenario.passage}</p>
                </div>
                <button class="rtc-submit-btn">Begin Knowledge Check</button>
            `;
            quizContainer.querySelector(".rtc-submit-btn").addEventListener("click", () => showQuestion(0));
        }
        
        function showQuestion(index) {
            currentQuestion = index;
            const q = rtcScenario.questions[index];
            let questionHTML = `
                <div class="rtc-question-container">
                    <span class="rtc-question-type">${q.type}</span>
                    <p>${q.question}</p>
            `;
            
            if (q.type === "MCQ") {
                questionHTML += `<div class="quiz-options">`;
                q.options.forEach((opt, i) => {
                    questionHTML += `
                        <div class="quiz-option">
                    <label>
                                <input type="radio" name="mcq-${index}" value="${i}">
                        <span>${opt}</span>
                    </label>
                </div>
                    `;
                });
                questionHTML += `</div>`;
            } else if (q.type === "FTB") {
                questionHTML += `<input type="text" class="rtc-textarea" placeholder="Type your answer here..." style="min-height: 50px;">`;
            } else {
                questionHTML += `<textarea class="rtc-textarea" placeholder="Write your detailed answer here...">${answers[index] || ""}</textarea>`;
            }
            
            questionHTML += `
                    <button class="rtc-submit-btn" style="margin-top: 16px;">Submit Answer</button>
                    <div class="rtc-explanation"></div>
                </div>
            `;
            
            quizContainer.innerHTML = questionHTML;
            
            const submitBtn = quizContainer.querySelector(".rtc-submit-btn");
            const explanationDiv = quizContainer.querySelector(".rtc-explanation");
            
            submitBtn.addEventListener("click", () => checkAnswer(q, index, explanationDiv, submitBtn));
        }
        
        function checkAnswer(q, index, explanationDiv, submitBtn) {
            let userAnswer = null;
            let isCorrect = false;
            
            if (q.type === "MCQ") {
                const selected = quizContainer.querySelector("input[name='mcq-" + index + "']:checked");
                if (!selected) {
                    showToast("Please select an answer first!", "error");
                    return;
                }
                userAnswer = parseInt(selected.value);
                isCorrect = userAnswer === q.correct;
                
                const selectedOption = selected.closest(".quiz-option");
                selectedOption.classList.add("selected", isCorrect ? "correct" : "wrong");
                
                if (!isCorrect) {
                    const correctOption = quizContainer.querySelectorAll(".quiz-option")[q.correct];
                    correctOption.classList.add("correct");
                }
            } else if (q.type === "FTB") {
                const input = quizContainer.querySelector(".rtc-textarea");
                userAnswer = input.value.trim().toLowerCase();
                if (!userAnswer) {
                    showToast("Please provide an answer!", "error");
                    return;
                }
                const correctAnswers = [q.correct.toLowerCase(), ...(q.alternates || []).map(a => a.toLowerCase())];
                isCorrect = correctAnswers.some(ans => userAnswer.includes(ans));
                input.disabled = true;
                input.style.borderColor = isCorrect ? "var(--ok)" : "var(--bad)";
                input.style.background = isCorrect ? "var(--ok-soft)" : "var(--bad-soft)";
            } else {
                const textarea = quizContainer.querySelector(".rtc-textarea");
                userAnswer = textarea.value.trim();
                if (userAnswer.length < 30) {
                    showToast("Please write a detailed answer (at least 30 characters)...", "error");
                    return;
                }
                textarea.disabled = true;
                isCorrect = true;
            }
            
            answers[index] = userAnswer;
            if (isCorrect) score++;
            
            submitBtn.disabled = true;
            showExplanation(q, isCorrect, explanationDiv);
        }
        
        function showExplanation(q, isCorrect, explanationDiv) {
            let explanationHTML = '';
            
            if (q.type === "MCQ") {
                if (isCorrect) {
                    explanationHTML += `
                        <div style="background: var(--ok-soft); border-left: 4px solid var(--ok); padding: 20px; border-radius: 8px; margin-top: 16px; text-align: left;">
                            <h4 style="color: var(--ok); margin: 0 0 12px 0;">✓ Excellent! You're correct.</h4>
                            <p style="margin: 0 0 16px 0; font-weight: 500;">${q.explanation.whyCorrect}</p>
                    `;
            } else {
                    const wrongIndex = parseInt(quizContainer.querySelector("input[name='mcq-" + currentQuestion + "']:checked").value);
                    explanationHTML += `
                        <div style="background: var(--bad-soft); border-left: 4px solid var(--bad); padding: 20px; border-radius: 8px; margin-top: 16px; text-align: left;">
                            <h4 style="color: var(--bad); margin: 0 0 12px 0;">✗ Not Quite. Let's Learn Why.</h4>
                            <p style="margin: 0 0 16px 0; font-weight: 500;">${q.explanation.whyWrong[wrongIndex]}</p>
                            <div style="background: var(--ok-soft); padding: 16px; border-radius: 6px; border-left: 4px solid var(--ok); margin-top: 16px;">
                                <h5 style="color: var(--ok); margin: 0 0 8px 0;">The Correct Answer:</h5>
                                <p style="margin: 0;">${q.explanation.whyCorrect}</p>
                            </div>
                    `;
                }
                explanationHTML += `
                    <div style="background: white; padding: 16px; border-radius: 6px; margin-top: 16px;">
                        <h5 style="margin: 0 0 8px 0; color: var(--text);">🔗 Connect the Concept</h5>
                        <p style="margin: 0; font-size: 0.95rem;">${q.explanation.connectConcept}</p>
                    </div>
                    <div style="background: var(--muted); padding: 16px; border-radius: 6px; margin-top: 16px;">
                        <h5 style="margin: 0 0 8px 0; color: var(--accent);">💡 Pro Tip</h5>
                        <p style="margin: 0; font-size: 0.95rem; font-style: italic;">${q.explanation.proTip}</p>
                    </div>
                </div>
                `;
            } else if (q.type === "FTB") {
                if (isCorrect) {
                    explanationHTML += `
                        <div style="background: var(--ok-soft); border-left: 4px solid var(--ok); padding: 20px; border-radius: 8px; margin-top: 16px; text-align: left;">
                            <h4 style="color: var(--ok); margin: 0 0 12px 0;">✓ Correct! "${q.correct}" is the right answer.</h4>
                            <p style="margin: 0 0 16px 0;">${q.explanation.whyCorrect}</p>
                    `;
                } else {
                    explanationHTML += `
                        <div style="background: var(--bad-soft); border-left: 4px solid var(--bad); padding: 20px; border-radius: 8px; margin-top: 16px; text-align: left;">
                            <h4 style="color: var(--bad); margin: 0 0 12px 0;">✗ Not quite. The answer we're looking for is: "${q.correct}"</h4>
                            <p style="margin: 0 0 16px 0;">${q.explanation.whyCorrect}</p>
                    `;
                }
                explanationHTML += `
                    <div style="background: white; padding: 16px; border-radius: 6px; margin-top: 16px;">
                        <h5 style="margin: 0 0 8px 0; color: var(--text);">🔗 Connect the Concept</h5>
                        <p style="margin: 0; font-size: 0.95rem;">${q.explanation.connectConcept}</p>
                    </div>
                    <div style="background: var(--muted); padding: 16px; border-radius: 6px; margin-top: 16px;">
                        <h5 style="margin: 0 0 8px 0; color: var(--accent);">💡 Pro Tip</h5>
                        <p style="margin: 0; font-size: 0.95rem; font-style: italic;">${q.explanation.proTip}</p>
                    </div>
                </div>
                `;
            } else {
                // SAQ or LAQ
                explanationHTML += `
                    <div style="background: var(--ok-soft); border-left: 4px solid var(--ok); padding: 20px; border-radius: 8px; margin-top: 16px; text-align: left;">
                        <h4 style="color: var(--ok); margin: 0 0 12px 0;">✓ Response Submitted. Here's What We're Looking For:</h4>
                        <div style="background: white; padding: 16px; border-radius: 6px; margin-bottom: 16px;">
                            <h5 style="margin: 0 0 8px 0;">📝 Sample Answer:</h5>
                            <p style="margin: 0; font-size: 0.95rem; font-style: italic;">${q.sampleAnswer}</p>
                        </div>
                        <div style="background: white; padding: 16px; border-radius: 6px; margin-bottom: 16px;">
                            <h5 style="margin: 0 0 12px 0;">🎯 Key Elements Your Answer Should Include:</h5>
                            <ul style="margin: 0; padding-left: 20px;">
                                ${q.guidancePoints.map(point => `<li style="margin-bottom: 8px;">${point}</li>`).join('')}
                            </ul>
                        </div>
                        <p style="margin: 0 0 16px 0;">${q.explanation.whyCorrect}</p>
                        <div style="background: white; padding: 16px; border-radius: 6px; margin-top: 16px;">
                            <h5 style="margin: 0 0 8px 0;">🔗 Connect the Concept</h5>
                            <p style="margin: 0; font-size: 0.95rem;">${q.explanation.connectConcept}</p>
                        </div>
                        <div style="background: var(--muted); padding: 16px; border-radius: 6px; margin-top: 16px;">
                            <h5 style="margin: 0 0 8px 0; color: var(--accent);">💡 Pro Tip</h5>
                            <p style="margin: 0; font-size: 0.95rem; font-style: italic;">${q.explanation.proTip}</p>
                        </div>
                    </div>
                `;
            }
            
            const isLastQuestion = currentQuestion === rtcScenario.questions.length - 1;
            explanationHTML += `
                <div class="rtc-nav-buttons">
                    ${currentQuestion > 0 ? '<button class="btn secondary">← Previous</button>' : '<button class="btn secondary" disabled>← Previous</button>'}
                    ${!isLastQuestion ? '<button class="btn">Next Question →</button>' : '<button class="btn">View Results →</button>'}
                </div>
            `;
            
            explanationDiv.innerHTML = explanationHTML;
            explanationDiv.classList.add("show", isCorrect ? "correct" : "wrong");
            
            explanationDiv.querySelectorAll("button").forEach(btn => {
                if (btn.textContent.includes("Previous")) {
                    btn.addEventListener("click", () => showQuestion(currentQuestion - 1));
                } else if (btn.textContent.includes("Next")) {
                    btn.addEventListener("click", nextQuestion);
                } else if (btn.textContent.includes("Results")) {
                    btn.addEventListener("click", showResults);
                }
            });
        }
        
        function nextQuestion() {
            if (currentQuestion < rtcScenario.questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        }
        
        function showResults() {
            const percentage = Math.round((score / rtcScenario.questions.length) * 100);
            let feedback = "";
            if (percentage >= 80) feedback = "🌟 Outstanding! You've mastered AI-native consulting principles.";
            else if (percentage >= 60) feedback = "✓ Good work! Review the explanations to strengthen your understanding.";
            else feedback = "📖 Keep learning. Revisit the module content and retake this quiz.";
            
            const resultsModal = `
                <div class="modal-overlay show" id="resultsModal" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; z-index: 10000;">
                    <div style="background: white; border-radius: 16px; padding: 40px; max-width: 500px; width: 90%; box-shadow: 0 20px 60px rgba(0,0,0,0.3); text-align: center;">
                        <h2 style="color: var(--accent); font-size: 2rem; margin-bottom: 20px;">Quiz Complete!</h2>
                        <div style="background: var(--muted); border-radius: 12px; padding: 24px; margin: 20px 0;">
                            <div style="font-size: 3.5rem; font-weight: 700; color: var(--accent);">${score}/${rtcScenario.questions.length}</div>
                            <div style="font-size: 1.2rem; color: #6c757d; margin-top: 8px;">${percentage}% Correct</div>
                        </div>
                        <p style="font-size: 1.1rem; color: var(--text); margin: 20px 0; line-height: 1.6;">${feedback}</p>
                        <div style="display: flex; gap: 12px; margin-top: 24px;">
                            <button class="btn secondary" style="flex: 1;" onclick="location.reload()">Retake Quiz</button>
                            <button class="btn" style="flex: 1;" onclick="document.getElementById('resultsModal').remove()">Continue Module</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML("beforeend", resultsModal);
        }
        
        showScenario();
    })(); */

    // --- Module 5 Knowledge Check (8 MCQs) ---
    (function setupModule5MCQ(){
        const body = document.getElementById('m5QuizBody');
        const prev = document.getElementById('m5Prev');
        const next = document.getElementById('m5Next');
        const cur  = document.getElementById('m5Current');
        const tot  = document.getElementById('m5Total');
        if (!body || !prev || !next || !cur || !tot) return;

        const Q = [
          { q: "What's the primary reason to batch related changes when using Claude Code?", correct: 1, options: [
              { text: "It reduces local disk usage", exp: "Disk usage barely changes because diffs are tiny and temporary. Batching is not about storage; it organizes scope so the model and reviewer see one coherent change set. If you want speed and clarity, batch by intent, not by file count." },
              { text: "It improves speed, reduces token cost, and keeps the reviewer's mental model coherent", exp: "Correct. A single, well‑scoped request reduces round‑trips and token overhead, and yields one diff that's faster to review. Reviewers understand the narrative and risk in context, which improves quality, approval speed, and future maintainability." },
              { text: "It prevents the need for approvals", exp: "Governance never disappears. Batching concentrates context so approval is easier and clearer, but the checkpoint remains essential for compliance, tone, and intent. Use batching to reduce noise, not to bypass human review." },
              { text: "It forces Claude to produce perfect code on the first try", exp: "No prompt strategy guarantees perfection. Batching manages cognitive load and scope so iteration is efficient: request → diff → approve → verify. Expect clearer diffs and faster cycles, not one‑shot accuracy." }
          ]},
          { q: "In Module 5, what is the role of the Human Checkpoint?", correct: 2, options: [
              { text: "Collect page analytics", exp: "Analytics can be useful, but the checkpoint is a quality gate. Its purpose is to inspect intent, compliance, impact, and client fit before anything leaves the sandbox. Data collection is separate from governance and cannot replace judgment." },
              { text: "Auto-merge Claude's diffs when all tests pass", exp: "Auto‑merging undermines the safety design. Tests catch technical regressions, not tone, personalization, or regulatory nuance. Claude proposes; a human remains accountable for approval, especially in client‑facing or regulated contexts." },
              { text: "Formal accountability before changes reach clients/users", exp: "Correct. The checkpoint makes accountability explicit. A named reviewer compares the diff against tone, compliance, and value criteria and accepts responsibility. This protects clients, supports audit trails, and builds organizational trust in AI‑assisted workflows." },
              { text: "Choose color themes for the preview modal", exp: "Theme choices are unrelated to governance. The checkpoint focuses on accuracy, compliance, and usefulness—not visual polish. Keep UX tuning separate from approval controls and record‑keeping." }
          ]},
          { q: "Where should CLAUDE.md live so subfolders inherit context correctly?", correct: 0, options: [
              { text: "Project root (e.g., Claude_Practice)", exp: "Correct. Place CLAUDE.md at the root so every subfolder inherits shared rules. This reduces repetition, lowers token costs, and prevents conflicting guidance. Subprojects can still override specifics with a local CLAUDE.md only when necessary." },
              { text: "Inside each leaf folder only", exp: "Duplicating files across leaves invites drift and contradictions. Teammates may unknowingly follow different rules. Centralize the baseline in the root and override intentionally where context genuinely differs." },
              { text: "In Downloads", exp: "Downloads is outside the project and not part of normal working context. Claude won't reliably read it during tasks. Keep configuration beside the artifacts it governs for predictability and portability." },
              { text: "In the system temp directory", exp: "Temporary directories are ephemeral and outside version control. Files can vanish between sessions, and Claude may not find them. Store project context in a stable, shared location: the repo root." }
          ]},
          { q: "What did we standardize as the 4-color system?", correct: 3, options: [
              { text: "Primary, Secondary, Accent, Muted", exp: "Those are palette roles, not semantic statuses. Without meaning, users cannot quickly interpret feedback. We standardize semantics first so any theme can communicate consistently across components." },
              { text: "Blue, Pink, Purple, Cyan", exp: "Hues alone don't convey intent. A user must know whether a message is success, warning, or error. We anchor on meaning, then map colors to that meaning for accessibility and speed of comprehension." },
              { text: "Debug, Trace, Verbose, Silent", exp: "These are engineering log levels, not end‑user feedback classes. They don't translate to visual communication patterns like toasts, banners, and tips that learners rely on." },
              { text: "Info, Success, Warning, Error", exp: "Correct. These four statuses give a universal mental model across toasts, callouts, and modals. Designers can vary hues or themes, but semantics remain constant, improving scanability and accessibility for non‑technical users." }
          ]},
          { q: "Why did we add OS-aware 10s download toasts in the Roadmap Builder?", correct: 1, options: [
              { text: "To ensure PDFs auto-open", exp: "Auto‑opening files is disruptive and blocked by many browsers. We prioritize user control and clarity over forced behaviors. The toast informs; the user decides when and how to open the file." },
              { text: "To provide clear feedback about file name and likely download path", exp: "Correct. The toast names the file, estimates its destination per OS, and stays visible long enough to read. That reduces confusion, re‑downloads, and support questions, especially for beginners learning file locations." },
              { text: "To pause other UI interactions", exp: "Toasts are non‑modal by design. They surface important information while allowing users to continue their flow without blocking dialogs or focus traps." },
              { text: "To throttle API usage", exp: "Download notifications are purely local UX. They do not affect request rates or server costs; they're about setting user expectations and improving discoverability." }
          ]},
          { q: "When should you prefer manual edits over an AI prompt, per Module 5?", correct: 2, options: [
              { text: "Always prefer AI over manual changes", exp: "Over‑automating wastes tokens and time on trivial tweaks. Use AI for tasks that benefit from reasoning, patterning, or transformation; fix small, obvious items directly to maintain momentum." },
              { text: "Never use AI for any edits", exp: "An all‑manual stance throws away leverage. Blend approaches: manual for tiny fixes; AI for structured rewrites, data transformation, refactors, or repetitive tasks where it compounds your effort." },
              { text: "For tiny, obvious changes to save tokens and time", exp: "Correct. Quick manual edits—wording, a variable rename, a small list tweak—are faster and cheaper. You also build familiarity with the codebase and avoid round‑trip overhead for negligible changes." },
              { text: "Only when offline", exp: "Connectivity isn't the criterion. Choose based on impact versus overhead: trivial change → manual; substantive or repetitive change → AI, with approval and verification." }
          ]},
          { q: "Which module assets are colocated with Module 5 HTML for hands-on work?", correct: 0, options: [
              { text: "Q4_financials.csv, client_success_story.md, financial_consulting_logo.svg", exp: "Correct. We colocate these with the HTML so links are click‑to‑download and paths are predictable in exercises. This reduces setup friction and lets learners focus on analysis, branding, and conversion tasks." },
              { text: "Only PDFs in a separate /assets folder", exp: "A remote /assets folder adds cognitive load and broken‑path risk. Beginners benefit from simple, local links that match instructions: 'assume files are in the same folder.'" },
              { text: "Just a README with external links", exp: "Reading about assets isn't practice. We provide real files so learners can transform, style, and verify outputs end‑to‑end—skills they will use with clients." },
              { text: "No additional files are needed", exp: "Module 5's case study uses concrete artifacts for realistic prompts and outputs. Without them, exercises become abstract and less transferable to client work." }
          ]},
          { q: "What is the two-step flow of the AI Roadmap Builder?", correct: 3, options: [
              { text: "Generate → Autodownload", exp: "Skipping review undermines quality and control. Learners should validate scope, tone, and completeness before saving. The builder intentionally separates preview from download to encourage that habit." },
              { text: "Preview → Auto-apply project changes", exp: "The builder produces a document; it doesn't alter your repository or files. Auto‑applying changes would blur responsibilities and violate the approval model discussed in this module." },
              { text: "Template Pick → Submit", exp: "Templates are a starting point, not the finish line. You still need to preview the assembled content to catch gaps and adjust tone before exporting for use with clients." },
              { text: "Preview → Generate & Download", exp: "Correct. First preview the Markdown in a clean, single‑scroll modal to validate structure and style. Then explicitly Generate & Download, creating a safe, repeatable habit that balances speed with quality control." }
          ]}
        ];

        tot.textContent = String(Q.length);
        let idx = 0;

        function render(){
            const q = Q[idx];
            const opts = q.options.map((o,i)=>`
              <div class="quiz-option" data-i="${i}">
                <label><input type="radio" name="m5${idx}" value="${i}"><span>${o.text}</span></label>
                <div class="explanation">${o.exp}</div>
              </div>`).join('');
            body.innerHTML = `<div class="quiz-body active"><p><strong>Q${idx+1}:</strong> ${q.q}</p><div class="quiz-options">${opts}</div></div>`;
            cur.textContent = String(idx+1);
            prev.disabled = idx===0; next.disabled = idx===Q.length-1;
            body.querySelectorAll('input[type="radio"]').forEach(r=>{
              r.addEventListener('change', ()=>{
                const selected = parseInt(r.value);
                body.querySelectorAll('.quiz-option').forEach(div=>{div.classList.remove('selected','correct','wrong');div.querySelector('.explanation').style.display='none';});
                const div = r.closest('.quiz-option');
                div.classList.add('selected');
                div.querySelector('.explanation').style.display='block';
                if (selected===q.correct) div.classList.add('correct'); else { div.classList.add('wrong'); const corr = body.querySelector(`.quiz-option[data-i="${q.correct}"]`); if (corr) corr.classList.add('correct'); }
              });
            });
        }

        prev.addEventListener('click', ()=>{ if(idx>0){ idx--; render(); }});
        next.addEventListener('click', ()=>{ if(idx<Q.length-1){ idx++; render(); }});
        setTimeout(render, 0);
    })();

    // --- FAQ and Rich Glossary ---
    function setupFaqAndGlossary() {
        const faqContainer = document.getElementById('faq-accordion');
        if (faqContainer) {
            faqContainer.innerHTML = faqData.map((item, idx) => `
                <div class="accordion-item">
                    <button class="accordion-header" role="button" aria-expanded="false" aria-controls="faq-content-${idx}">${item.q}</button>
                    <div class="accordion-content" id="faq-content-${idx}"><p>${item.a}</p></div>
                </div>
            `).join('');
            faqContainer.addEventListener('click', (e) => {
                const header = e.target.closest('.accordion-header');
                if(header) {
                    const expanded = header.getAttribute('aria-expanded') === 'true';
                    header.setAttribute('aria-expanded', !expanded);
                    header.nextElementSibling.style.display = expanded ? 'none' : 'block';
                }
            });
        }
        
        const glossaryContainer = document.querySelector('#glossary-table tbody');
        if(glossaryContainer) {
            glossaryContainer.innerHTML = glossaryData.map(item => `
                <tr>
                    <td>${item.term}</td>
                    <td>${item.desc}</td>
                    <td>${item.role}</td>
                    <td>${item.figure}</td>
                </tr>
            `).join('');
        }
    }
    
    // --- Module 3-Style Badge System ---
    function showCongratsModal(badgeTitle, badgeDesc) {
        const overlay = document.getElementById('congrats-overlay');
        const message = document.getElementById('congrats-message');
        const titleEl = document.getElementById('congrats-title');
        const textEl = document.getElementById('congrats-text');
        
        titleEl.textContent = badgeTitle;
        textEl.textContent = badgeDesc;
        
        overlay.style.display = 'block';
        message.style.display = 'block';
    }
    
    function closeCongratsModal() {
        const overlay = document.getElementById('congrats-overlay');
        const message = document.getElementById('congrats-message');
        overlay.style.display = 'none';
        message.style.display = 'none';
    }
    
    window.closeCongratsModal = closeCongratsModal;
    
    // Badge system initialization
    const badges = document.querySelectorAll('.badge');
    const badgeProgress = document.getElementById('badge-progress');
    const resetBadgesBtn = document.getElementById('reset-badges');
    
    if (badges.length > 0) {
        // Load earned badges from localStorage
        let earnedBadges = JSON.parse(localStorage.getItem('earnedBadgesModule5') || '[]');
        
        // Mark already earned badges
        badges.forEach(badge => {
            const badgeId = badge.dataset.badge;
            if (earnedBadges.includes(badgeId)) {
                badge.classList.add('earned');
            }
        });
        
        // Update progress display
        function updateBadgeProgress() {
            earnedBadges = JSON.parse(localStorage.getItem('earnedBadgesModule5') || '[]');
            badgeProgress.textContent = `${earnedBadges.length} of ${badges.length} badges earned`;
        }
        
        // Badge click handler
        badges.forEach(badge => {
            const badgeId = badge.dataset.badge;
            
            badge.addEventListener('click', () => {
                if (!badge.classList.contains('earned')) {
                    badge.classList.add('earned');
                    if (!earnedBadges.includes(badgeId)) {
                        earnedBadges.push(badgeId);
                        localStorage.setItem('earnedBadgesModule5', JSON.stringify(earnedBadges));
                        
                        // Show congratulations
                        const badgeTitle = badge.querySelector('.badge-title').textContent;
                        const badgeDesc = badge.dataset.desc;
                        showCongratsModal(badgeTitle, badgeDesc);
                        
                        // Update progress
                        updateBadgeProgress();
                        
                        // Check if all badges earned
                        if (earnedBadges.length === badges.length) {
                            setTimeout(() => {
                                showToast('🎉 Amazing! You earned all Module 5 badges! You are truly an AI-Native Consultant!', 'success');
                            }, 1500);
                        }
                    }
                }
            });
        });
        
        // Reset badges button
        if (resetBadgesBtn) {
            resetBadgesBtn.addEventListener('click', () => {
                if (confirm('Are you sure you want to reset all badges? This cannot be undone.')) {
                    earnedBadges = [];
                    localStorage.removeItem('earnedBadgesModule5');
                    badges.forEach(badge => badge.classList.remove('earned'));
                    updateBadgeProgress();
                    showToast('Badges have been reset.', 'info');
                }
            });
        }
        
        // Initial progress update
        updateBadgeProgress();
    }
    
    // --- Modal for Coming Soon ---
    const comingSoonBtn = document.getElementById('comingSoonBtn');
    const modalOverlay = document.getElementById('modalOverlay');
    
    if (comingSoonBtn) {
        comingSoonBtn.addEventListener('click', () => {
            modalOverlay.classList.add('show');
        });
    }
    
    // Close modal when clicking overlay
    if (modalOverlay) {
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove('show');
            }
        });
    }
    
    // --- Initial Load ---
    setupFlipCardCarousel();
    setupCaseStudy();
    setupOversightQuiz();
    setupRoadmapBuilder();
    setupScrollAnimations();
    setupFaqAndGlossary();
});

// Global close modal function
function closeModal() {
    const modalOverlay = document.getElementById('modalOverlay');
    if (modalOverlay) {
        modalOverlay.classList.remove('show');
    }
}

// Global copy code function
function copyCode(button) {
    const codeBlock = button.previousElementSibling.querySelector('code');
    const text = codeBlock.textContent;
    
    // Copy to clipboard
    if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(() => {
            button.textContent = '✓ Copied!';
            button.classList.add('copied');
            showToast('Prompt copied to clipboard!', 'success');
            setTimeout(() => {
                button.textContent = '📋 Copy';
                button.classList.remove('copied');
            }, 2000);
        }).catch(() => {
            showToast('Failed to copy. Please select and copy manually.', 'error');
        });
    } else {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        document.body.appendChild(textArea);
        textArea.select();
        try {
            document.execCommand('copy');
            button.textContent = '✓ Copied!';
            button.classList.add('copied');
            showToast('Prompt copied to clipboard!', 'success');
            setTimeout(() => {
                button.textContent = '📋 Copy';
                button.classList.remove('copied');
            }, 2000);
        } catch (err) {
            showToast('Failed to copy. Please select and copy manually.', 'error');
        }
        document.body.removeChild(textArea);
    }
}
</script>

</body>
</html>

